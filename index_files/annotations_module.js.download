(function(g){var window=this;'use strict';var M2=function(Q){Q.publish("cardstatechange",Q.MU()&&Q.CF()?1:0)},DU=function(Q,U){var q=g.Jz(U),H=q?U:arguments;
for(q=q?0:1;q<H.length;q++){if(Q==null)return;Q=Q[H[q]]}return Q},YnQ=function(Q){var U=g.zC(Q);
Q=g.Pr(Q);return new g.qL(U.x,U.y,Q.width,Q.height)},Snz=function(Q,U,q){var H=H===void 0?{}:H;
var C;return C=g.Dv(Q,U,function(){g.JF(C);q.apply(Q,arguments)},H)},Or=function(Q){Q=g.dd(Q);
delete JU[Q];g.OA(JU)&&gw&&gw.stop()},Box=function(){gw||(gw=new g.ai(function(){Rcz()},20));
var Q=gw;Q.isActive()||Q.start()},Rcz=function(){var Q=g.Az();
g.y0(JU,function(U){zcQ(U,Q)});
g.OA(JU)||Box()},FY=function(Q,U,q,H){g.Bq.call(this);
if(!Array.isArray(Q)||!Array.isArray(U))throw Error("Start and end parameters must be arrays");if(Q.length!=U.length)throw Error("Start and end points must be the same length");this.C=Q;this.B=U;this.duration=q;this.J=H;this.coords=[];this.progress=this.U=0;this.X=null},zcQ=function(Q,U){U<Q.startTime&&(Q.endTime=U+Q.endTime-Q.startTime,Q.startTime=U);
Q.progress=(U-Q.startTime)/(Q.endTime-Q.startTime);Q.progress>1&&(Q.progress=1);Q.U=1E3/(U-Q.X);Q.X=U;L1t(Q,Q.progress);Q.progress==1?(Q.Z=0,Or(Q),Q.onFinish(),Q.NF()):Q.isPlaying()&&Q.YQ()},L1t=function(Q,U){typeof Q.J==="function"&&(U=Q.J(U));
Q.coords=Array(Q.C.length);for(var q=0;q<Q.C.length;q++)Q.coords[q]=(Q.B[q]-Q.C[q])*U+Q.C[q]},m9$=function(Q,U){g.q_.call(this,Q);
this.coords=U.coords;this.x=U.coords[0];this.y=U.coords[1];this.z=U.coords[2];this.duration=U.duration;this.progress=U.progress;this.fps=U.U;this.state=U.Z},eF=function(Q,U,q,H,C){FY.call(this,U,q,H,C);
this.element=Q},P3N=function(Q,U,q,H,C){if(U.length!=2||q.length!=2)throw Error("Start and end points must be 2D");
eF.call(this,Q,U,q,H,C)},wWz=function(Q){return Math.pow(Q,3)},sJ7=function(Q){return 3*Q*Q-2*Q*Q*Q},K13=function(Q){g.b.call(this);
this.C=Q||window;this.Z=[]},dw=function(Q){return Q.baseUrl||null},G3=function(Q,U){return g.AP(g.FI(Q,U),function(q){return!!q})},hct=function(Q,U,q){function H(Ho){var ff=Ho.hovercardButton;
if(!ff)return null;ff=ff.subscribeButtonRenderer;if(!ff)return null;var Bo=V(ff.unsubscribedButtonText),Cf=V(ff.subscribedButtonText);if(ff.subscribed){var Wo=V(ff.subscriberCountWithUnsubscribeText);var vo=V(ff.subscriberCountText)}else Wo=V(ff.subscriberCountText),vo=V(ff.subscriberCountWithSubscribeText);var i$=null;if(Ho.signinEndpoint){i$=DU(Ho,"signinEndpoint","webNavigationEndpointData","url");if(!i$){var ky,ab;i$=(ab=g.K((ky=ff.signInEndpoint)==null?void 0:ky.commandMetadata,g.wr))==null?
void 0:ab.url}if(!i$)return null}return Bo&&(Cf||i$)?{subscribed:ff.subscribed,subscribeText:Bo,subscribeCount:Wo,unsubscribeText:Cf,unsubscribeCount:vo,enabled:ff.enabled,signinUrl:i$,classic:Ho.useClassicSubscribeButton}:null}
function C(Ho){if(Ho){var ff=[],Bo=Ho.videoId;Bo&&ff.push("v="+Bo);(Bo=Ho.playlistId)&&ff.push("list="+Bo);(Ho=Ho.startTimeSeconds)&&ff.push("t="+Ho);return"/watch?"+ff.join("&")}}
function V(Ho){if(!Ho)return null;var ff=Ho.simpleText;return ff?ff:Ho.runs?g.FI(Ho.runs,function(Bo){return Bo.text}).join(""):null}
U=U.endscreenElementRenderer;if(!U)return null;var f=U.style,Y=U.endpoint||{},S=null,R=null,B=!1,z=null,m=null,L=null,P=null,W=!1,y=null,e=null,O=null,d=null,u=null,c=null;if(f==="VIDEO")g.K(Y,g.AJ)?S=g.K(Y,g.AJ).url:(c=g.K(Y,g.Ya),S=C(c)),R=!1,z=Q,U.thumbnailOverlays?(B=U.thumbnailOverlays[0].thumbnailOverlayTimeStatusRenderer,m=V(B.text),B=B.style==="LIVE"):m=V(U.videoDuration);else if(f==="PLAYLIST")g.K(Y,g.AJ)?S=g.K(Y,g.AJ).url:(c=g.K(Y,g.Ya),S=C(c)),R=!1,z=Q,L=V(U.playlistLength);else if(f===
"CHANNEL"){if(W=DU(Y,"browseEndpoint","browseId"))P=W,S="/channel/"+P;R=!1;z="new";(W=!!U.isSubscribe)?y=H(U):e=V(U.subscribersText)}else f==="WEBSITE"?((O=DU(Y,"urlEndpoint","url"))&&(S=O),R=!0,z="new",O=U.icon.thumbnails[0].url):f==="CREATOR_MERCHANDISE"&&(U.productPrice&&(d=V(U.productPrice)),U.additionalFeesText&&(u=V(U.additionalFeesText)),(R=DU(Y,"urlEndpoint","url"))&&(S=R),R=!0,z="new");Q=DU(U,"title","accessibility","accessibilityData","label");var k=U.endpoint?U.endpoint.clickTrackingParams:
null,v="";if(U.metadata){var qH=V(U.metadata);qH&&(v=qH)}return{id:"element-"+q,type:f,title:V(U.title),metadata:v,callToAction:V(U.callToAction),Xg:U.image,iconUrl:O,left:Number(U.left),width:Number(U.width),top:Number(U.top),aspectRatio:Number(U.aspectRatio),startMs:Math.floor(Number(U.startMs)),endMs:Math.floor(Number(U.endMs)),videoDuration:m,Bx:B,playlistLength:L,channelId:P,subscribeButton:y,subscribersText:e,isSubscribe:W,targetUrl:S||null,n5y:R,sessionData:k?{itct:k}:null,KFL:z,Vd:Q?Q:null,
isPlaceholder:U.isPlaceholder,impressionUrls:G3(U.impressionUrls||[],dw),Ovy:G3(U.hovercardShowUrls||[],dw),clickUrls:G3(Y.loggingUrls||[],dw),visualElement:g.Py(U.trackingParams),productPrice:d,additionalFeesText:u,watchEndpoint:c||null}},W1z=function(Q,U){var q={startMs:Math.floor(Number(Q.startMs)),
impressionUrls:G3(Q.impressionUrls||[],dw),elements:G3(Q.elements||[],function(H,C){return hct(U,H,C)})};
Q.trackingParams&&(q.visualElement=g.Py(Q.trackingParams));return q},XWz=function(Q){g.Yr.call(this,Q);
this.X=this.endscreen=null;this.C={};this.U={};this.J=this.T=null;this.L=[];this.Z=null;this.ZE=!0;this.B=0;Q=Q.Y();this.u2=g.Na(Q)||g.tr(Q);this.events=new g.Sf(this);g.I(this,this.events);this.events.V(this.player,g.IM("creatorendscreen"),this.onCueRangeEnter);this.events.V(this.player,g.cm("creatorendscreen"),this.onCueRangeExit);this.events.V(this.player,"resize",this.K_);this.events.V(window,"focus",this.sEa);this.load();var U=g.gF("STYLE");(g.wF("HEAD")[0]||document.body).appendChild(U);this.addOnDisposeCallback(function(){g.GH(U)});
U.sheet&&(U.sheet.insertRule(".ytp-ce-playlist-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASBAMAAACk4JNkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAIVBMVEVMaXGzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7P///91E4wTAAAACXRSTlMArBbpVOtYrReN+x2FAAAAAWJLR0QKaND0VgAAACFJREFUCNdjYCAWzIQAFBaZ6hgVYLKcJnBWGEyWvYGASwCXtBf7m4i3CQAAAABJRU5ErkJggg==) no-repeat center;background-size:18px;width:18px;height:18px}",0),U.sheet.insertRule(".ytp-ce-size-853 .ytp-ce-playlist-icon, .ytp-ce-size-1280 .ytp-ce-playlist-icon, .ytp-ce-size-1920 .ytp-ce-playlist-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJ1BMVEVMaXGzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7P///9RfzIKAAAAC3RSTlMAvDeyLvxYtDK9Ogx4T1QAAAABYktHRAyBs1FjAAAAK0lEQVQY02NgoBjshgO8HJoYwKiAMGAD92YHJM7uMCTO9gaEHs4FlPuZAQC8Fj8x/xHjxwAAAABJRU5ErkJggg==) no-repeat center;background-size:24px;width:24px;height:24px}",
0))},yAN=function(Q){return Q.player.getVideoData().sZ?"current":Q.u2?"new":"current"},u6=function(Q){return Q.player.Y().playerStyle==="creator-endscreen-editor"},nFA=function(Q){var U=Q.player.getVideoData(),q=U.videoId;
Q.X&&Q.X.abort();q={method:"POST",onFinish:function(C){var V=Q.X=null;C.status===200&&(C=C.responseText,C.substring(0,3)===")]}"&&(C=C.substring(3),V=JSON.parse(C),V=W1z(V,yAN(Q))));rw(Q,V)},
urlParams:{v:q},withCredentials:!0};Q.u2&&(q.urlParams.ptype="embedded");var H=U.qY;H&&(q.postParams={ad_tracking:H});if(U=g.yof(U))if(U=g.yv(U),U=g.hA(U))Q.X=g.gR(U,q)},rw=function(Q,U,q){q=q===void 0?!0:q;
Q.player.j_("creatorendscreen");Q.T&&(Q.T.dispose(),Q.T=null,Q.J.dispose(),Q.J=null);for(var H=g.F(Object.values(Q.C)),C=H.next();!C.done;C=H.next())C.value.dispose();Q.C={};Q.U={};Q.L.length>0&&(Q.L.forEach(function(Y){Y.dispose()}),Q.L.length=0);
Q.Z&&(g.YE(Q.Z,"ytp-ce-element-show"),Q.Z.setAttribute("aria-hidden","true"));Q.B=0;if((Q.endscreen=U)&&U.elements){q&&MBJ(Q);q=[];H=new g.bw(U.startMs,0x7ffffffffffff,{id:"ytp-ce-in-endscreen",namespace:"creatorendscreen"});q.push(H);Q.player.Y().C||(Q.T=new g.p({S:"div",D:"ytp-ce-shadow"}),g.IE(Q.player,Q.T.element,4),Q.J=new g.qv(Q.T,200));for(H=0;H<U.elements.length;++H){C=U.elements[H];var V=D9J(Q,C);if(V){Q.C[C.id]=V;Q.U[C.id]=C;g.IE(Q.player,V.element,4);var f=new g.bw(C.startMs,C.endMs,{id:"ytp-ce-element-"+
C.id,namespace:"creatorendscreen"});q.push(f);JAJ(Q,V,C)}else g.F1(new g.Kf("buildEndscreenElement null",C))}Q.player.Rm(q);Q.K_()}},MBJ=function(Q){var U=g.KD(),q=g.hC();
q&&U&&Q.endscreen.visualElement&&g.HA(g.pD)(void 0,q,U,Q.endscreen.visualElement)},D9J=function(Q,U){var q=null;
switch(U.type){case "VIDEO":Q={S:"div",Sp:["ytp-ce-element","ytp-ce-video"],N:{tabindex:"0","aria-label":U.Vd||"","aria-hidden":"true"},W:[{S:"div",D:"ytp-ce-element-shadow"},{S:"div",D:"ytp-ce-covering-image",N:AU(U)},{S:"div",D:"ytp-ce-covering-shadow-top"},{S:"a",D:"ytp-ce-covering-overlay",N:{href:Er(Q,U.targetUrl),tabindex:"-1"},W:[{S:"div",Sp:["ytp-ce-video-title","ytp-webkit-ellipsis"],N:{dir:g.wU(U.title||"")},MK:U.title},{S:"div",D:U.Bx?"ytp-ce-live-video-duration":"ytp-ce-video-duration",
MK:U.videoDuration||void 0}]}]};q=new g.p(Q);break;case "PLAYLIST":Q={S:"div",Sp:["ytp-ce-element","ytp-ce-playlist"],N:{tabindex:"0","aria-label":U.Vd||"","aria-hidden":"true"},W:[{S:"div",D:"ytp-ce-element-shadow"},{S:"div",D:"ytp-ce-covering-image",N:AU(U)},{S:"div",D:"ytp-ce-covering-shadow-top"},{S:"a",D:"ytp-ce-covering-overlay",N:{href:Er(Q,U.targetUrl),tabindex:"-1"},W:[{S:"div",Sp:["ytp-ce-playlist-title","ytp-webkit-ellipsis"],N:{dir:g.wU(U.title||"")},MK:U.title},{S:"div",D:"ytp-ce-playlist-count",
W:[{S:"div",D:"ytp-ce-playlist-icon"},{S:"div",D:"ytp-ce-playlist-count-text",MK:U.playlistLength||void 0}]}]}]};q=new g.p(Q);break;case "CHANNEL":q={S:"div",Sp:["ytp-ce-element","ytp-ce-channel",U.isSubscribe?"ytp-ce-channel-this":"ytp-ce-channel-that"],N:{tabindex:"0","aria-label":U.Vd||"","aria-hidden":"true"},W:[{S:"div",D:"ytp-ce-element-shadow"},{S:"div",D:"ytp-ce-expanding-overlay",W:[{S:"div",D:"ytp-ce-expanding-overlay-hider"},{S:"div",D:"ytp-ce-expanding-overlay-background"},{S:"div",D:"ytp-ce-expanding-overlay-content",
W:[{S:"div",D:"ytp-ce-expanding-overlay-body",W:[{S:"div",D:"ytp-ce-expanding-overlay-body-padding",W:[{S:"a",Sp:["ytp-ce-channel-title","ytp-ce-link"],N:{href:Er(Q,U.targetUrl),target:"_blank",tabindex:"-1",dir:g.wU(U.title||"")},MK:U.title},U.subscribeButton?{S:"div",D:"ytp-ce-subscribe-container",W:[{S:"div",D:"ytp-ce-channel-subscribe"}]}:"",U.subscribersText?{S:"div",D:"ytp-ce-channel-subscribers-text",MK:U.subscribersText}:"",U.metadata?{S:"div",Sp:["ytp-ce-channel-metadata","yt-ui-ellipsis",
"yt-ui-ellipsis-3"],MK:U.metadata}:""]}]}]}]},{S:"div",D:"ytp-ce-expanding-image",N:AU(U)}]};q=new g.p(q);var H=g.hD(document,"div","ytp-ce-channel-subscribe",q.element)[0];if(U.subscribeButton&&U.channelId){g.oW(H,"ytp-ce-subscribe-button");if(Q.player.Y().C){var C=null;var V=U.sessionData.itct}else C="endscreen",V=null;C=new g.$r(U.subscribeButton.subscribeText,U.subscribeButton.subscribeCount,U.subscribeButton.unsubscribeText,U.subscribeButton.unsubscribeCount,!!U.subscribeButton.enabled,!!U.subscribeButton.classic,
U.channelId,!!U.subscribeButton.subscribed,C,V,Q.player,!1);H.appendChild(C.element);Q.L.push(C)}break;case "WEBSITE":Q={S:"div",Sp:["ytp-ce-element","ytp-ce-website"],N:{tabindex:"0","aria-label":U.Vd||"","aria-hidden":"true"},W:[{S:"div",D:"ytp-ce-element-shadow"},{S:"div",D:"ytp-ce-expanding-overlay",W:[{S:"div",D:"ytp-ce-expanding-overlay-hider"},{S:"div",D:"ytp-ce-expanding-overlay-background"},{S:"div",D:"ytp-ce-expanding-overlay-content",W:[{S:"div",D:"ytp-ce-expanding-overlay-body",W:[{S:"div",
D:"ytp-ce-expanding-overlay-body-padding",W:[{S:"div",D:"ytp-ce-website-title",N:{dir:g.wU(U.title||"")},MK:U.title},{S:"div",D:"ytp-ce-website-metadata",MK:U.metadata},{S:"a",Sp:["ytp-ce-website-goto","ytp-ce-link"],N:{href:Er(Q,U.targetUrl),target:"_blank",tabindex:"-1"},MK:U.callToAction}]}]}]}]},{S:"div",D:"ytp-ce-expanding-image",N:AU(U)},{S:"div",D:"ytp-ce-expanding-icon",N:gFN(U.iconUrl)}]};q=new g.p(Q);break;case "CREATOR_MERCHANDISE":q="",U.productPrice&&(q={S:"div",D:"ytp-ce-merchandise-price-container",
W:[{S:"div",D:"ytp-ce-merchandise-price",MK:U.productPrice}]},U.additionalFeesText&&q.W.push({S:"div",D:"ytp-ce-merchandise-additional-fees",MK:U.additionalFeesText})),Q={S:"div",Sp:["ytp-ce-element","ytp-ce-merchandise"],N:{tabindex:"0","aria-label":U.Vd||"","aria-hidden":"true"},W:[{S:"div",D:"ytp-ce-element-shadow"},{S:"div",D:"ytp-ce-expanding-overlay",W:[{S:"div",D:"ytp-ce-expanding-overlay-hider"},{S:"div",D:"ytp-ce-expanding-overlay-background"},{S:"div",D:"ytp-ce-expanding-overlay-content",
W:[{S:"div",D:"ytp-ce-expanding-overlay-body",W:[{S:"div",D:"ytp-ce-expanding-overlay-body-padding",W:[{S:"div",D:"ytp-ce-merchandise-title",N:{dir:g.wU(U.title||"")},MK:U.title},q,{S:"div",D:"ytp-ce-merchandise-metadata",MK:U.metadata},{S:"a",Sp:["ytp-ce-merchandise-goto","ytp-ce-link"],N:{href:Er(Q,U.targetUrl),target:"_blank",tabindex:"-1"},MK:U.callToAction}]}]}]}]},{S:"div",D:"ytp-ce-expanding-image",N:AU(U)},{S:"div",D:"ytp-ce-merchandise-invideo-cta-container",W:[{S:"div",D:"ytp-ce-merchandise-invideo-cta",
MK:U.callToAction||void 0}]}]},q=new g.p(Q)}U.isPlaceholder&&g.oW(q.element,"ytp-ce-placeholder");return q},AU=function(Q){if(Q.Xg)var U=Q.Xg.thumbnails;
return gFN(U?U[U.length-1].url:null)},gFN=function(Q){return Q?{style:"background-image: url("+Q+")"}:{}},JAJ=function(Q,U,q){function H(S){S&&(U.listen("blur",function(){S.style.display!="none"&&Q.ZE&&S.focus()}),U.V(S,"focus",V),U.V(S,"blur",f))}
function C(S){Q.B+=S;Q.B>0?(g.oW(U.element,"ytp-ce-force-expand"),b6(Q,q.id,!0)):(g.YE(U.element,"ytp-ce-force-expand"),g.YE(U.element,"ytp-ce-element-hover"),b6(Q,q.id,!1))}
function V(){C(1)}
function f(){C(-1)}
U.listen("mouseenter",function(){OHJ(Q,U,q)});
U.listen("mouseleave",function(){F1J(Q,U,q)});
Q.player.Y().C||U.listen("click",function(){g.oW(U.element,"ytp-ce-element-hover")});
U.listen("click",function(S){ecz(Q,q,S)});
U.listen("keypress",function(S){ecz(Q,q,S)});
U.listen("focus",function(){OHJ(Q,U,q)});
U.listen("blur",function(){F1J(Q,U,q)});
U.listen("touchstart",function(){OHJ(Q,U,q)});
var Y=g.Wa("ytp-ce-expanding-overlay-hider",U.element);Y&&U.V(Y,"touchstart",function(S){S.stopPropagation();g.YE(U.element,"ytp-ce-element-hover");g.YE(U.element,"ytp-ce-force-expand")});
U.listen("keydown",function(S){Q.ZE=S.keyCode===9&&!S.shiftKey});
H(g.Wa("ytp-sb-subscribe",U.element));H(g.Wa("ytp-sb-unsubscribe",U.element));U.listen("focus",V);U.listen("blur",f)},ecz=function(Q,U,q){if(U.targetUrl&&(!q||q.type!=="keypress"||q.keyCode===13)){for(var H=q.target;H&&!g.fo(H,"ytp-ce-element");){g.fo(H,"subscribe-label")&&d9x(Q,U);
if(g.fo(H,"ytp-ce-channel-subscribe"))return;H=H.parentElement||null}if(!H||g.fo(H,"ytp-ce-element-hover")){q.preventDefault();q.stopPropagation();if(H=Q.C[U.id])F1J(Q,H,U),H.element.blur();if(q.ctrlKey||q.metaKey||U.KFL==="new")d9x(Q,U),Q.player.sendVideoStatsEngageEvent(17,void 0),Q.player.pauseVideo(),q=g.yv(Er(Q,U.targetUrl)),q=g.hA(q),g.pa(q,void 0,U.sessionData);else{var C=g.f8(Q.player.Y())||Q.player.getVideoData().sZ,V=function(){var f=Er(Q,U.targetUrl),Y=U.sessionData,S=U.watchEndpoint,R=
g.ib(f);C&&R&&(R.v||R.list)?Q.player.cJ(R.v,Y,R.list,!1,void 0,S||void 0):g.cZ(f,Y)};
d9x(Q,U,function(){Q.player.sendVideoStatsEngageEvent(17,V)})}}}},Er=function(Q,U){Q=Q.player.Y();
if(U){if(U.startsWith("//"))return Q.protocol+":"+U;if(U.startsWith("/"))return g.zY(Q)+U}else return"";return U},OHJ=function(Q,U,q){g.fo(U.element,"ytp-ce-element-hover")||(q.type==="VIDEO"||q.type==="PLAYLIST"?g.oW(U.element,"ytp-ce-element-hover"):Q.player.Y().C?(new g.ai(function(){g.oW(U.element,"ytp-ce-element-hover")},200)).start():g.oW(U.element,"ytp-ce-element-hover"),kR(Q,q.Ovy),b6(Q,q.id,!0))},F1J=function(Q,U,q){g.YE(U.element,"ytp-ce-element-hover");
g.YE(U.element,"ytp-ce-force-expand");b6(Q,q.id,!1)},b6=function(Q,U,q){Q.T&&(q?Q.J.show():Q.J.hide());
for(var H=g.F(Object.keys(Q.C)),C=H.next();!C.done;C=H.next())C=C.value,C!==U&&g.RW(Q.C[C].element,"ytp-ce-element-shadow-show",q)},kR=function(Q,U,q){function H(){V||(C++,C===U.length&&(f.stop(),q&&q()))}
if(!U||U.length===0||u6(Q))q&&q();else{U=Gpt(Q,U);var C=0,V=!1,f=new g.ai(function(){V=!0;q&&q()},1E3,Q);
f.start();for(Q=0;Q<U.length;Q++)g.rS(U[Q],H)}},d9x=function(Q,U,q){kR(Q,U.clickUrls,q);
(Q=g.hC())&&U.n5y&&g.UQ(Q,U.visualElement)},Gpt=function(Q,U){var q=Q.player.getVideoData().clientPlaybackNonce;
Q=Q.player.getCurrentTime().toFixed(2);q={CPN:q,AD_CPN:q,MT:Q};Q=[];for(var H=0;H<U.length;H++)Q.push(uxd(U[H],q));return Q},uxd=function(Q,U){return Q.replace(/%5B[a-zA-Z_:]+%5D|\[[a-zA-Z_:]+\]/g,function(q){var H=unescape(q);
H=H.substring(1,H.length-1);return U[H]?escape(U[H]):q})},rAt=function(Q){return typeof Q==="string"?Q:""},ID=function(Q,U,q){for(var H in U)if(U[H]===Q)return Q;
return q},AAA=function(Q,U,q,H){this.value=Q;
this.target=U;this.showLinkIcon=q;this.Z=H},ck=function(Q){return Q.value?Q.value:null},pW=function(Q){if(!Q)return null;
var U=g.yv(rAt(Q.value));U=g.hA(U);if(!U)return null;var q=ID(Q.target,EFt,"current");if(q==null)Q=null;else{var H=Q.show_link_icon;Q=new AAA(U,q,H==="true"||H==="false"?H==="true":!0,Q.pause_on_navigation!=null?Q.pause_on_navigation:!0)}return Q},bHz=function(Q,U,q){this.type=Q;
this.trigger=U;this.url=q},cA3=function(Q){if(!Q)return null;
var U=ID(Q.type,kpA),q=ID(Q.trigger,IOJ);Q=Q.url;Q=Array.isArray(Q)&&Q.length?Q[0]:Q;Q=pW(Q?Q:null);return U?new bHz(U,q,Q):null},pWQ=function(Q,U,q,H,C){this.id=Q;
this.type=U;this.style=q;this.data=C;this.action=H||[]},Nod=function(Q,U){return g.$8(Q.action,U)},$9z=function(Q,U){this.context=Q;
this.Z=U},tBd=function(Q){return Q.customMessage?N2("div","iv-card-message",Q.customMessage):""},$R=function(Q,U){Q="background-image: url("+Q+");";
var q=[];U&&q.push(U);return{S:"div",D:"iv-card-image",N:{style:Q},W:q}},x9z=function(Q){if(!Q.metaInfo||Q.metaInfo.length===0)return"";
var U=[];Q=g.F(Q.metaInfo);for(var q=Q.next();!q.done;q=Q.next())U.push(N2("li","",q.value));return{S:"ul",D:"iv-card-meta-info",W:U}},N2=function(Q,U,q){U?typeof U==="string"?U={"class":U}:Array.isArray(U)&&(U={"class":U.join(" ")}):U={};
U.dir=g.wU(q);return{S:Q,N:U,MK:q}},jJH=function(Q){if(!Q.customMessage)return"";
var U=["iv-card-action","iv-card-primary-link"],q={};Q.sL&&(U.push("iv-card-action-icon"),q.style="background-image: url("+Q.sL+");");q.dir=g.wU(Q.customMessage);var H=[{S:"span",MK:Q.customMessage}];Q.showLinkIcon&&(H.push("\u00a0"),H.push({S:"span",D:"iv-card-link-icon"}));return{S:"div",Sp:U,N:q,W:H}},tU=function(Q,U,q,H){if(H){U=g.F(U);
for(var C=U.next();!C.done;C=U.next())Q.Z(C.value,H,q.id,q.sessionData,q.yv.click,5)}},lOQ=function(Q,U){this.merchant=Q;
this.price=U},aON=function(Q){var U;
(U=Q)&&!(U=Q.length>1?Q.charAt(0)==="/"&&Q.charAt(1)!=="/":Q==="/")&&(U=Q.replace(/^(https?:)?\/\//,"").split("/",1),U=!U||U.length<1||!U[0]?[]:U[0].toLowerCase().split(".").reverse(),U=U[0]==="com"&&U[1]==="youtube"||U[0]==="be"&&U[1]==="youtu");return U?Q.indexOf("/redirect?")===-1:!1},ZHt=function(Q,U){return U?U:aON(Q)?"current":"new"},xR=function(Q,U){g.b.call(this);
var q=this;this.element=Q;this.context=U;this.R7=!1;this.zC=new Map;this.DE=new Map;this.context.G.addEventListener(g.IM("annotations_module"),function(H){(H=q.zC.get(H))&&H.apply(q)});
this.context.G.addEventListener(g.cm("annotations_module"),function(H){(H=q.DE.get(H))&&H.apply(q)})},jF=function(Q,U,q,H,C,V,f){Q.context.Z.listen(U,"click",function(Y){Q.LQ(q,H,C,V||[],f||0,Y)});
Q.context.Z.listen(U,"touchstart",function(){Q.R7=!1});
Q.context.Z.listen(U,"touchmove",function(){Q.R7=!0})},vFQ=function(Q){var U;
return((U=g.K(Q,g.AJ))==null?0:U.url)?g.K(Q,g.AJ).url:(Q=g.K(Q,g.Ya))&&Q.videoId?(U="/watch?v="+Q.videoId,Q.playlistId&&(U+="&list="+Q.playlistId),Q.index&&(U+="&index="+Q.index),Q.startTimeSeconds&&(U+="&t="+Q.startTimeSeconds),U):null},l6=function(Q,U,q){return{pZ:(Q.impressionLoggingUrlsV2s||[]).map(function(H){return H.baseUrl||""}),
click:(q.loggingUrls||[]).map(function(H){return H.baseUrl||""}),
close:(U.dismissLoggingUrlsV2s||[]).map(function(H){return H.baseUrl||""}),
FA:(U.impressionLoggingUrlsV2s||[]).map(function(H){return H.baseUrl||""}),
uG:(U.clickLoggingUrlsV2s||[]).map(function(H){return H.baseUrl||""})}},QIA=function(Q,U,q){xR.call(this,U,q);
var H=this;this.G=Q;this.eventId=null;this.g4=this.JG=this.xH=this.T=this.isInitialized=!1;this.cards=[];this.Zs=this.J=this.x5=this.U=this.UA=this.Z=null;this.ZE=[];this.AG=this.L=this.Y8=this.XZ=null;this.B=0;this.Ha=new g.ai(function(){},q.K.z0?4E3:3E3);
g.I(this,this.Ha);this.EA=new g.ai(function(){});
g.I(this,this.EA);this.hG=new $9z(q,function(C,V,f,Y,S,R){jF(H,C,V,f,Y,S,R)});
this.u2=new g.p({S:"div",D:"iv-drawer",N:{id:"iv-drawer"},W:[{S:"div",D:"iv-drawer-header",N:{"aria-role":"heading"},W:[{S:"span",D:"iv-drawer-header-text"},{S:"button",Sp:["iv-drawer-close-button","ytp-button"],N:{"aria-label":"Hide cards",tabindex:"0"}}]},{S:"div",D:"iv-drawer-content"}]});g.I(this,this.u2);this.X=this.u2.element;this.Y5=new g.qv(this.u2,330);g.I(this,this.Y5);this.C_=g.Wa("iv-drawer-header-text",this.X);this.C=g.Wa("iv-drawer-content",this.X);this.addCueRange(0,q.videoData.lengthSeconds*
1E3,"",function(){H.xH&&aD(H,"YOUTUBE_DRAWER_AUTO_OPEN")},function(){(H.xH=H.T)&&ZU(H)});
this.I7=new g.Sf(this);g.I(this,this.I7);this.G.addEventListener("videodatachange",this.uP.bind(this))},U0H=function(Q,U){U=U.data;
U.autoOpenMs&&Q.addCueRange(U.autoOpenMs,0x8000000000000,"",function(){aD(Q,"YOUTUBE_DRAWER_AUTO_OPEN")});
U.autoCloseMs&&Q.addCueRange(U.autoCloseMs,0x8000000000000,"",function(){ZU(Q)});
var q=U.headerText;g.AD(Q.C_,q);Q.J&&(Q.G.j("player_tooltip_data_title_killswitch")?Q.J.setAttribute("title",q):Q.J.setAttribute("data-tooltip-title",q));U.eventId&&(Q.eventId=U.eventId);Q.XZ=g.Py(U.trackingParams);Q.L=g.Py(U.closeTrackingParams);Q.Y8=g.Py(U.iconTrackingParams)},qvd=function(Q,U){var q=U.cardId?U.cardId:"cr:"+Q.B,H=Q.G.Y().experiments.wL("enable_error_corrections_infocard_web_client");
if(!U.content&&U.teaser.simpleCardTeaserRenderer&&H){var C=U.teaser.simpleCardTeaserRenderer,V=U.icon?U.icon.infoCardIconRenderer:null;if(C.channelAvatar&&C.channelAvatar.thumbnails&&C.channelAvatar.thumbnails.length>0)var f=vk(C.channelAvatar.thumbnails,22,22).url;U={id:q,timestamp:Q.B,type:"simple",teaserText:g.B_(C.message),teaserDurationMs:Number(U.cueRanges[0].teaserDurationMs),startMs:Number(U.cueRanges[0].startCardActiveMs),autoOpen:!!U.autoOpen,sessionData:{},sponsored:!1,yv:{},bX:null,PC:C.trackingParams?
g.Py(C.trackingParams):null,Y8:V&&V.trackingParams?g.Py(V.trackingParams):null,imageUrl:"",displayDomain:null,showLinkIcon:!1,sL:null,title:"",customMessage:"",url:null,onClickCommand:C.onTapCommand||null,MD:f};QR(Q,U)}else{var Y;if((Y=U.content)==null?0:Y.simpleCardContentRenderer){if(!U.cueRanges.length)return;f=(C=U.content)==null?void 0:C.simpleCardContentRenderer;C=U.teaser.simpleCardTeaserRenderer;V=U.icon?U.icon.infoCardIconRenderer:null;U={id:q,timestamp:Q.B,type:"simple",teaserText:g.B_(C.message),
teaserDurationMs:Number(U.cueRanges[0].teaserDurationMs),startMs:Number(U.cueRanges[0].startCardActiveMs),autoOpen:!!U.autoOpen,sessionData:Uw(Q,q,U,f),sponsored:!1,yv:l6(f,C,f.command),bX:f.trackingParams?g.Py(f.trackingParams):null,PC:C.trackingParams?g.Py(C.trackingParams):null,Y8:V&&V.trackingParams?g.Py(V.trackingParams):null,imageUrl:vk(f.image.thumbnails,290,290).url,displayDomain:f.displayDomain?g.B_(f.displayDomain):null,showLinkIcon:!!f.showLinkIcon,sL:null,title:f.title?g.B_(f.title):"",
customMessage:f.callToAction?g.B_(f.callToAction):"",url:g.K(f.command,g.AJ).url?pW({pause_on_navigation:!Q.context.videoData.isLivePlayback,target:"new",value:g.K(f.command,g.AJ).url}):null,onClickCommand:null};QR(Q,U)}else{var S;if((S=U.content)==null?0:S.collaboratorInfoCardContentRenderer){if(!U.cueRanges.length)return;f=(V=U.content)==null?void 0:V.collaboratorInfoCardContentRenderer;C=U.teaser.simpleCardTeaserRenderer;V=U.icon?U.icon.infoCardIconRenderer:null;U={id:q,timestamp:Q.B,type:"collaborator",
teaserText:g.B_(C.message),teaserDurationMs:Number(U.cueRanges[0].teaserDurationMs),startMs:Number(U.cueRanges[0].startCardActiveMs),autoOpen:!!U.autoOpen,sessionData:Uw(Q,q,U,f),sponsored:!1,yv:l6(f,C,f.endpoint),bX:f.trackingParams?g.Py(f.trackingParams):null,PC:C.trackingParams?g.Py(C.trackingParams):null,Y8:V&&V.trackingParams?g.Py(V.trackingParams):null,channelId:g.K(f.endpoint,g.rC).browseId,customMessage:f.customText?g.B_(f.customText):null,profileImageUrl:vk(f.channelAvatar.thumbnails,290,
290).url,title:f.channelName?g.B_(f.channelName):"",metaInfo:[f.subscriberCountText?g.B_(f.subscriberCountText):""],url:pW({pause_on_navigation:!Q.context.videoData.isLivePlayback,target:"new",value:g.K(f.endpoint,g.rC).canonicalBaseUrl?g.K(f.endpoint,g.rC).canonicalBaseUrl:"/channel/"+g.K(f.endpoint,g.rC).browseId}),onClickCommand:null};QR(Q,U)}else{var R;if((R=U.content)==null?0:R.playlistInfoCardContentRenderer){if(!U.cueRanges.length)return;var B;f=(B=U.content)==null?void 0:B.playlistInfoCardContentRenderer;
C=U.teaser.simpleCardTeaserRenderer;V=U.icon?U.icon.infoCardIconRenderer:null;U={id:q,timestamp:Q.B,type:"playlist",teaserText:g.B_(C.message),teaserDurationMs:Number(U.cueRanges[0].teaserDurationMs),startMs:Number(U.cueRanges[0].startCardActiveMs),autoOpen:!!U.autoOpen,sessionData:Uw(Q,q,U,f),sponsored:!1,yv:l6(f,C,f.action),bX:f.trackingParams?g.Py(f.trackingParams):null,PC:C.trackingParams?g.Py(C.trackingParams):null,Y8:V&&V.trackingParams?g.Py(V.trackingParams):null,hN:vk(f.playlistThumbnail.thumbnails,
258,290).url,customMessage:f.customMessage?g.B_(f.customMessage):null,playlistVideoCount:g.B_(f.playlistVideoCount),title:f.playlistTitle?g.B_(f.playlistTitle):"",metaInfo:[f.channelName?g.B_(f.channelName):"",f.videoCountText?g.B_(f.videoCountText):""],url:pW({pause_on_navigation:!Q.context.videoData.isLivePlayback,target:"new",value:vFQ(f.action)}),onClickCommand:null};QR(Q,U)}else{var z;if((z=U.content)==null?0:z.videoInfoCardContentRenderer){if(!U.cueRanges.length)return;var m;f=(m=U.content)==
null?void 0:m.videoInfoCardContentRenderer;C=U.teaser.simpleCardTeaserRenderer;V=U.icon?U.icon.infoCardIconRenderer:null;U={id:q,timestamp:Q.B,type:"video",teaserText:g.B_(C.message),teaserDurationMs:Number(U.cueRanges[0].teaserDurationMs),startMs:Number(U.cueRanges[0].startCardActiveMs),autoOpen:!!U.autoOpen,sessionData:Uw(Q,q,U,f),sponsored:!1,yv:l6(f,C,f.action),bX:f.trackingParams?g.Py(f.trackingParams):null,PC:C.trackingParams?g.Py(C.trackingParams):null,Y8:V&&V.trackingParams?g.Py(V.trackingParams):
null,hN:vk(f.videoThumbnail.thumbnails,258,290).url,videoDuration:f.lengthString?g.B_(f.lengthString):null,customMessage:f.customMessage?g.B_(f.customMessage):null,title:f.videoTitle?g.B_(f.videoTitle):"",metaInfo:[f.channelName?g.B_(f.channelName):"",f.viewCountText?g.B_(f.viewCountText):""],isLiveNow:!!f.badge,url:pW({pause_on_navigation:!Q.context.videoData.isLivePlayback,target:"new",value:vFQ(f.action)}),onClickCommand:null};QR(Q,U)}}}}}Q.B++},vk=function(Q,U,q){for(var H=-1,C=-1,V=0;V<Q.length;V++){if(Q[V].height===
U||Q[V].width===q)return Q[V];
((Q[V].height||0)<U||(Q[V].width||0)<q)&&(H<0||(Q[H].height||0)<(Q[V].height||0)||(Q[H].width||0)<(Q[V].width||0))?H=V:((Q[V].height||0)>=U||(Q[V].width||0)>=q)&&(C<0||(Q[C].height||0)>(Q[V].height||0)||(Q[C].width||0)>(Q[V].width||0))&&(C=V)}return Q[C>=0?C:H]},Uw=function(Q,U,q,H){return{feature:q.feature?q.feature:"cards",
src_vid:Q.context.videoData.videoId,annotation_id:U,ei:Q.context.videoData.eventId||"",itct:H.trackingParams||""}},Cit=function(Q,U){if(U=Hy3(Q,U))U===Q.Z&&(Q.Z=null),Q.G.removeCueRange(U.QO.id),g.GH(U.Fu),g.ZN(Q.cards,U),Q.A4(),qi(Q)},aD=function(Q,U,q){if(!Q.T){Q.Y5.show();
Q.UA=new g.ai(function(){g.oW(Q.context.G.getRootNode(),g.g4.IV_DRAWER_OPEN)},0);
Q.UA.start();Q.I7.V(Q.C,"mousewheel",function(f){Q.Ha.start();f.preventDefault();f=f||window.event;var Y=0;f.type=="MozMousePixelScroll"?Y=0==(f.axis==f.HORIZONTAL_AXIS)?f.detail:0:window.opera?Y=f.detail:Y=f.wheelDelta%120==0?"WebkitTransform"in document.documentElement.style?window.chrome&&navigator.platform.indexOf("Mac")==0?f.wheelDeltaY/-30:f.wheelDeltaY/-1.2:f.wheelDelta/-1.6:f.wheelDeltaY/-3;if(f=Y)Q.C.scrollTop+=f});
Q.T=!0;var H=g.hC();H&&Q.XZ&&Q.L&&g.vy(H,[Q.XZ,Q.L]);U={TRIGGER_TYPE:U};for(var C=g.F(Q.cards),V=C.next();!V.done;V=C.next())V=V.value,V.pA||(V.pA=!0,VQH(Q.context.logger,V.QO.yv.pZ,U)),H&&g.vy(H,[V.QO.bX]);M2(Q.G);q&&(Q.U=new g.ai(function(){Q.x5=Q.J;Q.Zs.focus()},330),Q.U.start())}},ZU=function(Q){Q.T&&(Q.Y5.hide(),g.GO(Q.I7),g.YE(Q.context.G.getRootNode(),g.g4.IV_DRAWER_OPEN),Q.T=!1,M2(Q.G),Q.U&&Q.U.stop(),Q.U=new g.ai(function(){Q.x5&&(Q.x5.focus(),Q.x5=null)},330),Q.U.start())},iyA=function(Q){g.Ta(Q.FJ(),
[g.g4.STOP_EVENT_PROPAGATION,
"iv-drawer-manager"]);g.IE(Q.G,Q.X,5);Q.NN();Q.J=g.Wa("ytp-cards-button",Q.G.getRootNode());Q.Zs=g.Wa("iv-drawer-close-button",Q.X);Q.isInitialized=!0},TFd=function(Q){Q.ZE.push(g.Up("iv-teaser-shown",Q.aY,Q));
Q.ZE.push(g.Up("iv-teaser-hidden",Q.Fiy,Q));Q.ZE.push(g.Up("iv-teaser-clicked",Q.t_,Q));Q.g4=!0},Yvx=function(Q,U){var q;
return U.onClickCommand&&((q=g.K(U.onClickCommand,g.If3))==null?void 0:q.targetId)==="engagement-panel-error-corrections"?(Q.AG=U,!0):!1},SvH=function(Q,U){Q.AG=U;
var q=Q.G.getVideoData();if(!q)return!1;q=g.bj(q);if(q==null?0:q.markersMap)for(var H,C=0;((H=q)==null?void 0:H.markersMap.length)>C;C++){var V=void 0,f=(V=q)==null?void 0:V.markersMap[C];if(f.key==="ERROR_CORRECTION_MARKERS"&&(V=void 0,(f=(V=f.value)==null?void 0:V.markers)&&f.length>0))return H=void 0,U.startMs=((H=g.K(f[0],g.Pub))==null?void 0:H.timeRangeStartMillis)||0,Q.AG=null,!0}return!1},QR=function(Q,U){if(!Yvx(Q,U)||SvH(Q,U)){var q=RvH(Q,U);
if(q){var H={QO:U,Fu:q.element,pA:!1};if(U.onClickCommand)Q.G.j("web_infocards_teaser_show_logging_fix")&&(Q.g4||TFd(Q),Cit(Q,U.id),q=Q.findLastIndex(H),g.oP(Q.cards,q,0,H));else{Q.isInitialized||iyA(Q);Cit(Q,U.id);var C=Q.findLastIndex(H);g.oP(Q.cards,C,0,H);q.FZ(Q.C,C);Q.A4()}U.autoOpen?Q.addCueRange(U.startMs,0x8000000000000,U.id,function(){Q.T||(Q.Z=H,qi(Q),BFx(Q,H),aD(Q,"YOUTUBE_DRAWER_AUTO_OPEN",!1))}):(q=Q.context.G.getCurrentTime()*1E3,q<5E3&&q>U.startMs&&zv8(Q,H),Q.addCueRange(U.startMs,
U.startMs+1,U.id,function(){zv8(Q,H)}),qi(Q))}}},RvH=function(Q,U){switch(U.type){case "simple":Q=Q.hG;
var q=U.displayDomain?{S:"div",D:"iv-card-image-text",MK:U.displayDomain}:void 0;var H=jJH(U);q={S:"div",Sp:["iv-card"],W:[{S:"a",D:"iv-click-target",N:{href:U.url?ck(U.url)||"":""},W:[$R(U.imageUrl,q),{S:"div",D:"iv-card-content",W:[N2("h2",void 0,U.title),H]}]}]};q=new g.p(q);tU(Q,g.Ky("iv-click-target",q.element),U,U.url);U=q;break;case "collaborator":Q=Q.hG;q={S:"div",Sp:["iv-card","iv-card-channel"],W:[{S:"a",Sp:["iv-click-target"],N:{href:ck(U.url)||"","data-ytid":U.channelId},W:[$R(U.profileImageUrl),
{S:"div",D:"iv-card-content",W:[tBd(U),{S:"h2",D:"iv-card-primary-link",MK:U.title},x9z(U)]}]}]};q=new g.p(q);tU(Q,g.Ky("iv-click-target",q.element),U,U.url);U=q;break;case "playlist":Q=Q.hG;q={S:"div",Sp:["iv-card","iv-card-playlist"],W:[{S:"a",D:"iv-click-target",N:{href:ck(U.url)||""},W:[$R(U.hN,{S:"div",D:"iv-card-image-overlay",W:[{S:"span",D:"iv-card-playlist-video-count",MK:U.playlistVideoCount}]}),{S:"div",D:"iv-card-content",W:[tBd(U),N2("h2","iv-card-primary-link",U.title),x9z(U)]}]}]};
q=new g.p(q);tU(Q,g.Ky("iv-click-target",q.element),U,U.url);U=q;break;case "productListing":Q=Q.hG;var C=U.offers.length!=0;q=["iv-card"];H="";var V=jJH(U);C&&(q.push("iv-card-product-listing"),H="iv-card-primary-link",V=U.offers[0],C=[],V.price&&C.push({S:"div",D:"iv-card-offer-price",MK:V.price}),V.merchant&&C.push({S:"div",D:"iv-card-offer-merchant",MK:V.merchant}),V={S:"div",W:C});C=U.url?ck(U.url)||"":"";q={S:"div",Sp:q,N:{tabindex:"0"},W:[{S:"a",Sp:["iv-card-image","iv-click-target"],N:{style:"background-image: url("+
U.imageUrl+");",href:C,"aria-hidden":"true",tabindex:"-1"}},{S:"div",D:"iv-card-content",W:[U.sponsored?{S:"div",D:"iv-card-sponsored",W:["Sponsored",{S:"div",D:"iv-ad-info-container",W:[{S:"div",D:"iv-ad-info",MK:"{{adInfo}}"},{S:"div",D:"iv-ad-info-icon-container",W:[{S:"div",D:"iv-ad-info-icon"},{S:"div",D:"iv-ad-info-callout"}]}]}]}:"",{S:"a",D:"iv-click-target",N:{href:C},W:[N2("h2",H,U.title),V]}]}]};q=new g.p(q);H=g.gF("span");g.AD(H,"You are seeing this product because we think it is relevant to the video. Google may be compensated by the merchant.");
q.setContent(H,"adInfo");tU(Q,g.Ky("iv-click-target",q.element),U,U.url);U=q;break;case "video":Q=Q.hG;H=U.videoDuration?{S:"span",D:"iv-card-video-duration",MK:U.videoDuration}:void 0;V=U.isLiveNow?{S:"span",Sp:["yt-badge","yt-badge-live"],MK:"LIVE NOW"}:null;C={S:"div",Sp:["iv-card","iv-card-video"],W:[{S:"a",D:"iv-click-target",N:{href:((q=U.url)==null?void 0:ck(q))||""},W:[$R(U.hN,H),{S:"div",D:"iv-card-content",W:[tBd(U),N2("h2","iv-card-primary-link",U.title),x9z(U),V]}]}]};q=new g.p(C);tU(Q,
g.Ky("iv-click-target",q.element),U,U.url);U=q;break;default:return null}return U},L88=function(Q){if(Q.Z)return Q.Z.QO.type==="productListing";
if(Q.G.j("enable_wn_infocards")){var U;return!((U=Q.cards)==null||!U.length)&&g.eg(Q.cards,function(q){return q.QO.type==="productListing"})}return g.eg(Q.cards,function(q){return q.QO.type==="productListing"})},qi=function(Q){g.RW(Q.G.getRootNode(),"ytp-cards-shopping-active",L88(Q))},zv8=function(Q,U){if(!g.fo(Q.G.getRootNode(),"ytp-cards-teaser-shown")){if(Q.Z!==U){var q=g.hC(),H=Q.Z?Q.Z.QO.Y8:Q.Y8;
q&&H&&g.QA(q,[H]);Q.Z=U;qi(Q)}(q=Q.isInitialized&&Q.FJ().style.display=="none")||(q=Q.context.G.getPlayerState(),H=q===0&&Q.context.G.getCurrentTime()===0,q=!(q===1||q===3||H));if(!q&&U.QO.teaserDurationMs){var C;q={teaserText:U.QO.teaserText,durationMs:U.QO.teaserDurationMs,onClickCommand:U.QO.onClickCommand,MD:(C=U.QO.MD)!=null?C:null};Q.G.Cl(!0,q)}Q.EA.isActive()||((!Q.T||!Q.Ha.isActive()&&Q.JG)&&BFx(Q,U),Q.EA.start(910+U.QO.teaserDurationMs))}},BFx=function(Q,U){Q.u2.Tm?(U=new FY([0,
Q.C.scrollTop],[0,U.Fu.offsetTop],600,sJ7),Q.context.T.listen(U,"animate",function(q){Q.C.scrollTop=q.y}),Q.context.T.listen(U,"finish",function(q){Q.C.scrollTop=q.y}),U.play()):(Q.u2.VM(!0),Q.C.scrollTop=U.Fu.offsetTop,Q.u2.VM(!1))},HO=function(Q){return Q.Z&&Q.Z.QO?Q.Z.QO:Q.cards[0]&&Q.cards[0].QO?Q.cards[0].QO:null},Hy3=function(Q,U){return g.$8(Q.cards,function(q){return q.QO.id===U})},CE=function(Q,U,q){xR.call(this,Q,U);
this.annotation=q;this.isActive=!1},m0Q=function(Q){var U=Q.annotation.data;
"start_ms"in U&&"end_ms"in U&&Q.addCueRange(Number(U.start_ms),Number(U.end_ms),Q.annotation.id,function(){Q.show()},function(){Q.hide()})},VR=function(Q,U,q){CE.call(this,Q,U,q);
this.Z=null;this.T=!1;this.C=null},PiN=function(Q,U){var q=q===void 0?0:q;
var H=YnQ(U).width;g.RG(U,H);q=new P3N(U,[H,U.offsetTop],[H-H-q,U.offsetTop],200,wWz);g.I(Q,q);Q.context.T.listen(q,"begin",function(){g.wm(U,!0)});
q.play()},waA=function(Q,U,q,H,C,V,f){this.Z=Q;
this.T=U;this.K=q;this.videoData=H;this.logger=C;this.G=V;this.C=f},sIQ=function(Q,U,q){CE.call(this,Q,U,q);
var H=this;this.L=this.isCollapsed=this.u2=!1;this.U=5E3;this.C=this.T=this.Z=this.X=null;this.B=this.createElement({S:"div",Sp:["iv-promo-contents"]});this.J=new g.ai(function(){H.Z.setAttribute("aria-hidden","true");g.wm(H.T,!1);g.wm(H.C,!0)},700,this);
g.I(this,this.J)},hvd=function(Q){var U=Q.annotation.data;
if(Q.annotation.style==="cta")var q=6;else if(Q.annotation.style==="video"||Q.annotation.style==="playlist")q=7;Q.U=U.collapsedelay_ms||Q.U;var H=["iv-promo","iv-promo-inactive"];Q.FJ().setAttribute("aria-hidden","true");Q.FJ().setAttribute("aria-label","Promotion");Q.FJ().tabIndex=0;var C=Q.annotation.v8(),V=U.image_url;if(V){var f=Q.createElement({S:"div",Sp:["iv-promo-img","iv-click-target"]});V=Q.createElement({S:"img",N:{src:V,"aria-hidden":"true"}});f.appendChild(V);U.video_duration&&!U.is_live?
(V=Q.createElement({S:"span",D:"iv-promo-video-duration",MK:U.video_duration}),f.appendChild(V)):U.playlist_length&&(V=Q.createElement({S:"span",D:"iv-promo-playlist-length",MK:U.playlist_length.toString()}),f.appendChild(V));C&&jF(Q,f,C,Q.annotation.id,U.session_data,void 0,q)}C?(V=Q.createElement({S:"a",D:"iv-promo-txt"}),g.M9(V,ck(C)),Q.Z=V):Q.Z=Q.createElement({S:"div",D:"iv-promo-txt"});switch(Q.annotation.style){case "cta":case "website":var Y=Q.createElement({S:"p",W:[{S:"strong",MK:U.text_line_1}]});
var S=Q.createElement({S:"p",W:[{S:"span",D:"iv-promo-link",MK:U.text_line_2}]});if(V=U.text_line_3){H.push("iv-promo-website-card-cta-redesign");var R=Q.createElement({S:"button",Sp:["iv-promo-round-expand-icon","ytp-button"]});V=Q.createElement({S:"button",Sp:["iv-button","iv-promo-button"],W:[{S:"span",D:"iv-button-content",MK:V}]});var B=Q.createElement({S:"div",D:"iv-promo-button-container"});B.appendChild(V);C&&jF(Q,Q.FJ(),C,Q.annotation.id,U.session_data,void 0,q)}g.oW(Q.Z,"iv-click-target");
C&&jF(Q,Q.Z,C,Q.annotation.id,U.session_data,void 0,q);break;case "playlist":case "video":Y=Q.createElement({S:"p",W:[{S:"span",MK:U.text_line_1}]}),S=Q.createElement({S:"p",W:[{S:"strong",MK:U.text_line_2}]}),U.is_live&&(Y=S,S=Q.createElement({S:"span",Sp:["yt-badge","iv-promo-badge-live"],MK:"LIVE NOW"})),g.oW(Q.Z,"iv-click-target"),C&&jF(Q,Q.Z,C,Q.annotation.id,U.session_data,void 0,q),H.push("iv-promo-video")}Y&&Q.Z.appendChild(Y);S&&Q.Z.appendChild(S);Q.B.appendChild(Q.Z);B&&Q.B.appendChild(B);
q=Q.createElement({S:"div",D:"iv-promo-actions"});Q.C=Q.createElement({S:"button",Sp:["iv-promo-expand","ytp-button"]});Q.C.title="Expand";Q.context.Z.listen(Q.C,"click",function(z){K8J(Q,5E3,z)});
q.appendChild(Q.C);g.wm(Q.C,!1);Q.context.Z.listen(Q.FJ(),"mouseover",Q.C2E,Q);Q.context.Z.listen(Q.FJ(),"mouseout",Q.Mp7,Q);Q.context.Z.listen(Q.FJ(),"touchend",function(z){K8J(Q,5E3,z)});
Q.T=Q.createElement({S:"button",Sp:["iv-promo-close","ytp-button"]});Q.T.title="Close";Q.context.Z.listen(Q.T,"click",Q.annotation.style==="cta"&&U.text_line_3?Q.s7L:Q.eG,Q);q.appendChild(Q.T);g.Ta(Q.FJ(),H);f&&(g.Fy(Q.FJ(),f),R&&f.appendChild(R));g.Fy(Q.FJ(),Q.B);g.Fy(Q.FJ(),q)},K8J=function(Q,U,q){q.stopPropagation();
W8d(Q);XaA(Q,U);Q.Z.focus()},yDx=function(Q){Q.isCollapsed||Q.L||Q.X||(g.oW(Q.FJ(),"iv-promo-collapsed"),Q.isCollapsed=!0,Q.J.start())},W8d=function(Q){Q.J.stop();
Q.isCollapsed&&(g.Sd(Q.FJ(),["iv-promo-collapsed","iv-promo-collapsed-no-delay"]),Q.isCollapsed=!1,Q.Z&&Q.Z.removeAttribute("aria-hidden"),g.wm(Q.C,!1),g.wm(Q.T,!0))},XaA=function(Q,U){Q.X||(Q.X=g.AZ(function(){nod(this);
yDx(this)},U,Q))},nod=function(Q){Q.X&&(g.hz.clearTimeout(Q.X),Q.X=null)},MQJ=function(Q){this.G=Q},VQH=function(Q,U,q){U&&(q?fE(Q,U.map(function(H){return g.eM(H,q)})):fE(Q,U))},fE=function(Q,U,q,H){var C=1,V=void 0,f=-1;
if(q){var Y=!1;V=function(){C--;C||Y||(clearTimeout(f),Y=!0,q())};
f=setTimeout(function(){Y=!0;q()},1E3)}U=g.F(U||[]);
for(var S=U.next();!S.done;S=U.next())S=S.value,C++,g.rS(S,V);H&&(C++,H!==0&&Q.G.sendVideoStatsEngageEvent(H,V))},OyH=function(Q){g.Yr.call(this,Q);
var U=this;this.ZE=this.L=!1;this.loadNumber=0;this.B={};this.logger=new MQJ(this.player);this.J=new g.Sf(this);this.U=this.X=null;this.events=new g.Sf(this);this.BK=this.u2=this.Z=null;this.AG=[];g.I(this,this.J);this.J.V(this.player,"onVideoAreaChange",function(){U.publish("onVideoAreaChange")});
this.J.V(this.player,"onHideControls",function(){U.publish("onHideControls")});
this.J.V(this.player,"onShowControls",function(){U.publish("onShowControls")});
this.J.V(this.player,"resize",function(V){U.publish("resize",V)});
this.J.V(this.player,"presentingplayerstatechange",function(V){U.publish("presentingplayerstatechange",V)});
this.subscribe("presentingplayerstatechange",this.zq,this);this.subscribe("resize",this.j4,this);this.player.Y().JG.subscribe("vast_info_card_add",this.Fa,this);g.I(this,this.events);this.hG=this.createElement({S:"div",D:"video-custom-annotations"});this.C=new g.p({S:"div",Sp:["ytp-player-content","ytp-iv-player-content"]});g.I(this,this.C);g.IE(this.player,this.C.element,4);this.C.hide();this.T=new g.p({S:"div",Sp:["ytp-iv-video-content"]});g.I(this,this.T);Q=this.createElement({S:"div",D:"video-annotations"});
Q.appendChild(this.hG);this.T.element.appendChild(Q);this.GD()?this.load():this.player.j("web_fix_annotations")&&(this.X=function(){U.loaded||U.GC()||!U.GD()||(D0d(U),U.load())},this.player.addEventListener("videodatachange",this.X));
var q=this.createElement({S:"style"});(g.wF("HEAD")[0]||document.body).appendChild(q);this.addOnDisposeCallback(function(){g.GH(q)});
if(Q=q.sheet){for(var H=g.F(JD3),C=H.next();!C.done;C=H.next())Q.insertRule(C.value,0);H=g.F(go7);for(C=H.next();!C.done;C=H.next())Q.insertRule(C.value,0)}},F83=function(Q){Q=Q.createElement({S:"div",
Sp:["annotation","annotation-type-custom"]});g.wm(Q,!1);return Q},evx=function(Q){var U=Q.player.Y();
Q=Q.player.getVideoData();return(U.annotationsLoadPolicy||Q.annotationsLoadPolicy)===1&&!Q.JC||U.JG.get(Q.videoId)||g.Np(Q)||g.$a(Q)?!0:!1},EoA=function(Q,U){function q(Y){var S=Q.loadNumber;
Q.U=null;Q.loaded&&Q.loadNumber===S&&Q.player.getVideoData().videoId===H&&(Y=g.wR(Y)&&Y.responseXML?Y.responseXML:null)&&(d0t(Q,Y),g.oW(Q.player.getRootNode(),"iv-module-loaded"))}
var H=U.videoId;g.qd()&&(q=GHx(Q,q));var C={format:"XML",onFinish:q,onError:function(){Q.U=null},
urlParams:{}};U.isPharma&&(C.urlParams.pharma="1");C.method="POST";C.withCredentials=!0;var V=Q.player.Y().JG.get(H);V&&uyA(C,V);var f=V&&(V.FR||V.XR);(V==null?0:V.FR)&&Math.random()<g.lK(Q.player.Y().experiments,"annotation_module_vast_cards_load_logging_fraction")&&g.F1(new g.Kf("Unexpected call to loadVastInfoCards; Attempting to load annotations via cardsXml."));if(!U.VA||f)U.qS?(Math.random()<g.lK(Q.player.Y().experiments,"annotation_module_vast_cards_load_logging_fraction")&&g.F1(new g.Kf("Unexpected call to loadVastInfoCards; Attempting to load annotations via invideo URL.")),
rDH(Q,U.qS,C)):(Q.X=function(){if(!Q.L)Q.onVideoDataChange(C);var Y=Q.player.getVideoData();(Y==null?0:g.pz(Y))&&!Q.ZE&&ADd(Q,Y)},Q.player.addEventListener("videodatachange",Q.X))},byH=function(Q,U){U=!U.isCued()&&!g.t(U,1024);
Q.C.VM(U);Q.T.VM(U)},rDH=function(Q,U,q){Q.L=!0;
Q.U=g.gR(U,q)},D0d=function(Q){Q.X&&(Q.player.removeEventListener("videodatachange",Q.X),Q.X=null)},kHd=function(Q,U){for(var q={},H=g.F(U.attributes),C=H.next();!C.done;C=H.next())C=C.value,q[C.name]=C.nodeValue;
for(H=0;H<U.childNodes.length;H++)if(C=U.childNodes[H],g.gd(C)&&C.nodeType==1){if(q[C.tagName])var V=q[C.tagName];else if(C.tagName==="data"){C.childNodes.length>0&&(V=C.childNodes[0].nodeValue,q[C.tagName]=typeof V==="string"?V.trim():V);continue}else V=[],q[C.tagName]=V;C&&C.tagName==="TEXT"?C.childNodes.length===1&&C.childNodes[0].nodeType===3?V.push(C.childNodes[0].nodeValue):V.push(""):C&&V.push(kHd(Q,C))}return q},I2H=function(Q){var U=Q.player.getVideoData();
if(U.qS){var q=Q.player.Y().JG.get(U.videoId);if(q){var H={format:"XML",urlParams:{},method:"POST",withCredentials:!0,onFinish:function(C,V,f){C=Q.loadNumber;V=U.videoId;Q.loaded&&Q.loadNumber===C&&Q.player.getVideoData().videoId===V&&(f=g.wR(f)&&f.responseXML?f.responseXML:null)&&d0t(Q,f)}};
g.qd()&&(H.onFinish=GHx(Q,H.onFinish));H.postParams={ic_only:"1"};uyA(H,q);Q.L=!0;g.gR(U.qS,H)}}},uyA=function(Q,U){Q.method="POST";
Q.postParams=Q.postParams||{};U.XR&&(Q.postParams.ic_coll=U.XR);U.FR&&(Q.postParams.ic_xml=U.FR);U.tP&&(Q.postParams.ic_track=U.tP)},cDJ=function(Q){var U=new g.p({S:"div"});
g.wm(U.element,!1);var q=new QIA(Q.player,U.element,ou(Q));g.I(q,U);U.FZ(Q.C.element);q.wq();return q},ADd=function(Q,U){var q,H;
if(U=(q=U.getWatchNextResponse())==null?void 0:(H=q.cards)==null?void 0:H.cardCollectionRenderer)Q.ZE=!0,paQ(Q,U),U.headerText&&Q.BK&&(q=g.B_(U.headerText),Q.player.j("player_tooltip_data_title_killswitch")?Q.BK.setAttribute("title",q):Q.BK.setAttribute("data-tooltip-title",q))},ou=function(Q){if(!Q.u2){var U=new K13(Q);
g.I(Q,U);var q=new g.Pl(Q);g.I(Q,q);Q.u2=new waA(U,q,Q.player.Y(),Q.player.getVideoData(),Q.logger,Q.player,Q.gQ)}return Q.u2},d0t=function(Q,U){var q=!1,H=U.getElementsByTagName("annotations");
if(H&&!(H.length<1)&&(H=H[0].getAttribute("itct"))){var C=g.hC();if(C){var V=g.KD();V&&g.HA(g.cy)(void 0,C,V,[g.Py(H)])}}U=U.getElementsByTagName("annotation");for(H=0;H<U.length;H++){V=kHd(Q,U[H]);C=null;try{if(V){var f=V.id,Y=/.+/;var S=typeof f==="string"&&Y!=null&&f!=null&&f.match(Y)?f:"";var R=ID(V.type,NF3),B=ID(V.style,$0t),z=rAt(V.data),m=z.length!==0?JSON.parse(z):{};var L=V.action;V=cA3;if(L==null)var P=null;else if(g.Jz(L)){Y=[];for(var W=g.F(L),y=W.next();!y.done;y=W.next()){var e=V(y.value);
e&&Y.push(e)}P=Y}else{var O=V(L);P=O?[O]:[]}C=S&&R?new pWQ(S,R,B,P,m):null}else C=null}catch(qH){}if(C)if(C.type==="branding"||C.type==="promotion"){V=Q;Y=C;var d=F83(V),u=null;switch(Y.type){case "branding":if(V.player.Y().x$)break;V.player.j("web_player_overlay_positioned_layout")?(d.setAttribute("data-overlay-order","11"),V.player.GM(d,4,!0)):V.C.element.appendChild(d);u=new VR(d,ou(V),Y);break;case "promotion":g.IE(V.player,d,4),u=new sIQ(d,ou(V),Y)}u&&u.wq();if(V=u)g.I(Q,V),Q.B[C.id]=V}else if(C.type===
"card"||C.type==="drawer"){Q.Z||(Q.Z=cDJ(Q),g.I(Q,Q.Z));if(C.type==="card"){d=Q.Z;var c=(q=C)&&q.data&&q.data.card_type;C=q.data;if(c)switch(V=C.tracking||{},V={pZ:V.impression,click:V.click,close:V.close,FA:V.teaser_impression,uG:V.teaser_click},Y=C.tracking_params||{},u=null,c){case "collaborator":q={id:q.id,timestamp:C.timestamp||0,type:C.card_type,teaserText:C.teaser_text,teaserDurationMs:C.teaser_duration_ms,startMs:C.start_ms,autoOpen:C.auto_open||!1,sessionData:C.session_data||{},sponsored:C.sponsored||
!1,yv:V,bX:Y.card?g.Py(Y.card):null,PC:Y.teaser?g.Py(Y.teaser):null,Y8:Y.icon?g.Py(Y.icon):null,channelId:C.channel_id,customMessage:C.custom_message?C.custom_message:null,profileImageUrl:C.image_url,title:C.title,metaInfo:C.meta_info,url:pW({pause_on_navigation:C.pause_on_navigation,target:C.target||"new",value:C.url}),onClickCommand:null};QR(d,q);break;case "playlist":q={id:q.id,timestamp:C.timestamp||0,type:C.card_type,teaserText:C.teaser_text,teaserDurationMs:C.teaser_duration_ms,startMs:C.start_ms,
autoOpen:C.auto_open||!1,sessionData:C.session_data||{},sponsored:C.sponsored||!1,yv:V,bX:Y.card?g.Py(Y.card):null,PC:Y.teaser?g.Py(Y.teaser):null,Y8:Y.icon?g.Py(Y.icon):null,hN:C.image_url,playlistVideoCount:C.playlist_video_count,customMessage:C.custom_message?C.custom_message:null,title:C.title,metaInfo:C.meta_info,url:pW({pause_on_navigation:C.pause_on_navigation,target:C.target||"new",value:C.url}),onClickCommand:null};QR(d,q);break;case "productListing":C.signin_url&&(u=pW({target:"current",
value:C.signin_url}));c=[];for(var k=C.offers||[],v=0;v<k.length;v++)c.push(new lOQ(g.tA(k[v].merchant),g.tA(k[v].price)));q={id:q.id,timestamp:C.timestamp||0,type:C.card_type,teaserText:C.teaser_text,teaserDurationMs:C.teaser_duration_ms,startMs:C.start_ms,autoOpen:C.auto_open||!1,sessionData:C.session_data||{},sponsored:C.sponsored||!1,yv:V,bX:Y.card?g.Py(Y.card):null,PC:Y.teaser?g.Py(Y.teaser):null,Y8:Y.icon?g.Py(Y.icon):null,imageUrl:C.image_url,displayDomain:C.display_domain?C.display_domain:
null,showLinkIcon:!!C.show_link_icon,sL:C.button_icon_url?C.button_icon_url:null,title:C.title,customMessage:C.custom_message?C.custom_message:null,url:pW({pause_on_navigation:C.pause_on_navigation,target:C.target||"new",value:C.url}),vV5:u,G7p:C.signin_title?C.signin_title:void 0,J07:C.signin_message?C.signin_message:void 0,offers:c,onClickCommand:null};QR(d,q);break;case "simple":q={id:q.id,timestamp:C.timestamp||0,type:C.card_type,teaserText:C.teaser_text,teaserDurationMs:C.teaser_duration_ms,
startMs:C.start_ms,autoOpen:C.auto_open||!1,sessionData:C.session_data||{},sponsored:C.sponsored||!1,yv:V,bX:Y.card?g.Py(Y.card):null,PC:Y.teaser?g.Py(Y.teaser):null,Y8:Y.icon?g.Py(Y.icon):null,imageUrl:C.image_url,displayDomain:C.display_domain?C.display_domain:null,showLinkIcon:!!C.show_link_icon,sL:C.button_icon_url?C.button_icon_url:null,title:C.title,customMessage:C.custom_message?C.custom_message:null,url:pW({pause_on_navigation:C.pause_on_navigation,target:C.target||"new",value:C.url}),onClickCommand:null};
QR(d,q);break;case "video":q={id:q.id,timestamp:C.timestamp||0,type:C.card_type,teaserText:C.teaser_text,teaserDurationMs:C.teaser_duration_ms,startMs:C.start_ms,autoOpen:C.auto_open||!1,sessionData:C.session_data||{},sponsored:C.sponsored||!1,yv:V,bX:Y.card?g.Py(Y.card):null,PC:Y.teaser?g.Py(Y.teaser):null,Y8:Y.icon?g.Py(Y.icon):null,hN:C.image_url,videoDuration:C.video_duration||null,customMessage:C.custom_message?C.custom_message:null,title:C.title,metaInfo:C.meta_info,isLiveNow:!!C.is_live_now,
url:pW({pause_on_navigation:C.pause_on_navigation,target:C.target||"new",value:C.url}),onClickCommand:null},QR(d,q)}}else U0H(Q.Z,C);q=!0}}q&&(M2(Q.player),Q.j4())},paQ=function(Q,U){var q=!1;
Q.Z||(Q.Z=cDJ(Q),g.I(Q,Q.Z));for(var H=g.F(U.cards||[]),C=H.next();!C.done;C=H.next())C=C.value,C.cardRenderer&&(qvd(Q.Z,C.cardRenderer),q=!0);if(q){var V;(V=Q.player.getVideoData())!=null&&g.pz(V)||(q=Q.Z,H=U.headerText?g.B_(U.headerText):"",g.AD(q.C_,H),q.J&&(q.G.j("player_tooltip_data_title_killswitch")?q.J.setAttribute("title",H):q.J.setAttribute("data-tooltip-title",H)),q.context.videoData.eventId&&(q.eventId=q.context.videoData.eventId),q.XZ=U.trackingParams?g.Py(U.trackingParams):null,q.L=
U.closeButton.infoCardIconRenderer.trackingParams?g.Py(U.closeButton.infoCardIconRenderer.trackingParams):null,q.Y8=U.icon.infoCardIconRenderer.trackingParams?g.Py(U.icon.infoCardIconRenderer.trackingParams):null,Q.j4());M2(Q.player)}},tQz=function(Q,U,q,H,C){if(!Q.player.Y().x$){var V=[];
U.navigationEndpoint&&g.K(U.navigationEndpoint,g.rC)&&g.K(U.navigationEndpoint,g.rC).browseId&&V.push(new bHz("openUrl","click",new AAA("/channel/"+g.K(U.navigationEndpoint,g.rC).browseId,"new",!0,!0)));var f=U.watermark.thumbnails[0];H={channel_name:U.channelName,end_ms:U.endTimeMs,image_height:f.height,image_type:1,image_url:f.url,image_width:f.width,is_mobile:!1,session_data:{annotation_id:q,ei:C,feature:"iv",itct:U.trackingParams,src_vid:H},start_ms:U.startTimeMs};if(U.subscribeButton&&g.K(U.subscribeButton,
g.A8)){H.channel_id=g.K(U.subscribeButton,g.A8).channelId;var Y;U=g.K(U.subscribeButton,g.A8);f=C=null;U.subscribed?(U.subscriberCountWithUnsubscribeText&&(C=g.B_(U.subscriberCountWithUnsubscribeText)),U.subscriberCountText&&(f=g.B_(U.subscriberCountText))):(U.subscriberCountText&&(C=g.B_(U.subscriberCountText)),U.subscriberCountWithSubscribeText&&(f=g.B_(U.subscriberCountWithSubscribeText)));var S,R=((S=g.K((Y=U.signInEndpoint)==null?void 0:Y.commandMetadata,g.wr))==null?void 0:S.url)||"";Y={subscribeText:g.B_(U.unsubscribedButtonText),
subscribeCount:C||"",unsubscribeText:g.B_(U.subscribedButtonText),unsubscribeCount:f||"",enabled:U.enabled||!1,classic:!1,subscribed:U.subscribed||!1,feature:"iv",signInUrl:R};H.standalone_subscribe_button_data=Y}V=new pWQ(q,"branding","branding",V,H);Y=F83(Q);Q.player.j("web_player_overlay_positioned_layout")?(Y.setAttribute("data-overlay-order","11"),Q.player.GM(Y,4,!0)):Q.C.element.appendChild(Y);V=new VR(Y,ou(Q),V);V.wq();g.I(V,V);Q.B[q]=V}},GHx=function(Q,U){return function(){var q=g.mA.apply(0,
arguments);
Q.GC()||Q.AG.push(g.pL.nV(function(){U.apply(null,g.$y(q))}))}},x0d=function(Q){return Q==="annotation-editor"||Q==="live-dashboard"};
g.dh.prototype.Cl=g.u4(35,function(Q,U){var q=g.nJ(this.J3());q&&q.Cl(Q,U)});
var JU={},gw=null;g.b$(FY,g.Bq);g.w=FY.prototype;g.w.getDuration=function(){return this.duration};
g.w.play=function(Q){if(Q||this.Z==0)this.progress=0,this.coords=this.C;else if(this.isPlaying())return!1;Or(this);this.startTime=Q=g.Az();this.isPaused()&&(this.startTime-=this.duration*this.progress);this.endTime=this.startTime+this.duration;this.X=this.startTime;this.progress||this.ma();this.PJ("play");this.isPaused()&&this.PJ("resume");this.Z=1;var U=g.dd(this);U in JU||(JU[U]=this);Box();zcQ(this,Q);return!0};
g.w.stop=function(Q){Or(this);this.Z=0;Q&&(this.progress=1);L1t(this,this.progress);this.onStop();this.NF()};
g.w.pause=function(){this.isPlaying()&&(Or(this),this.Z=-1,this.PJ("pause"))};
g.w.Cv=function(){this.Z==0||this.stop(!1);this.PJ("destroy");FY.Kp.Cv.call(this)};
g.w.destroy=function(){this.dispose()};
g.w.YQ=function(){this.PJ("animate")};
g.w.PJ=function(Q){this.dispatchEvent(new m9$(Q,this))};
g.b$(m9$,g.q_);g.b$(eF,FY);eF.prototype.T=function(){};
eF.prototype.YQ=function(){this.T();eF.Kp.YQ.call(this)};
eF.prototype.NF=function(){this.T();eF.Kp.NF.call(this)};
eF.prototype.ma=function(){this.T();eF.Kp.ma.call(this)};
g.b$(P3N,eF);P3N.prototype.T=function(){this.element.style.left=Math.round(this.coords[0])+"px";this.element.style.top=Math.round(this.coords[1])+"px"};g.h(K13,g.b);g.w=K13.prototype;g.w.listen=function(Q,U,q,H){q=(0,g.Gt)(q,H||this.C);Q=g.Dv(Q,U,q);this.Z.push(Q);return Q};
g.w.uD=function(Q,U,q,H){q=(0,g.Gt)(q,H||this.C);Q=Snz(Q,U,q);this.Z.push(Q);return Q};
g.w.vV=function(Q){g.JF(Q);g.ZN(this.Z,Q)};
g.w.removeAll=function(){g.JF(this.Z);this.Z.length=0};
g.w.Cv=function(){this.removeAll();g.b.prototype.Cv.call(this)};g.h(XWz,g.Yr);g.w=XWz.prototype;g.w.load=function(){g.Yr.prototype.load.call(this);if(!u6(this)){var Q=g.n04(this.player.getVideoData());Q?(Q=W1z(Q,yAN(this)),rw(this,Q,!1)):nFA(this)}};
g.w.unload=function(){rw(this,null);this.X&&(this.X.abort(),this.X=null);g.Yr.prototype.unload.call(this)};
g.w.kP=function(Q,U){return u6(this)?Q==="loadCustomEndscreenRenderer"?(Q=W1z(U,"new"),rw(this,Q),!0):null:null};
g.w.getOptions=function(){return u6(this)?["loadCustomEndscreenRenderer"]:[]};
g.w.K_=function(){if(this.endscreen&&this.endscreen.elements){var Q=this.player.getVideoContentRect();if(Q&&Q.width!==0&&Q.height!==0){var U=this.player.getPlayerSize();if(U&&U.width!==0&&U.height!==0){var q=Q.width/Q.height;var H=0;for(var C=-1,V=0;V<jIz.length;V++){var f=Math.abs(U.width-jIz[V]);if(C===-1||H>=f)C=V,H=f}H=l2z[C];this.T&&g.V_(this.T.element,"outline-width",Math.max(U.width,U.height)+"px");for(U=0;U<this.endscreen.elements.length;++U)if(V=this.endscreen.elements[U].id,C=this.C[V],
f=this.U[V],C&&f){var Y=f.width*q/f.aspectRatio,S=Math.round(f.width*Q.width);V=Math.round(Y*Q.height);var R=Q.left+Math.round(f.left*Q.width),B=Q.top+Math.round(f.top*Q.height);g.mB(C.element,S,V);g.RG(C.element,R,B);g.Sd(C.element,a28);S>256||V>256?g.oW(C.element,"ytp-ce-large-round"):S>96||V>96?g.oW(C.element,"ytp-ce-medium-round"):g.oW(C.element,"ytp-ce-small-round");g.Sd(C.element,ZyA);S=f.left+f.width/2;f=f.top+Y/2;g.oW(C.element,S<=.5&&f<=.5?"ytp-ce-top-left-quad":S>.5&&f<=.5?"ytp-ce-top-right-quad":
S<=.5&&f>.5?"ytp-ce-bottom-left-quad":"ytp-ce-bottom-right-quad");g.Sd(C.element,l2z);g.oW(C.element,H);(C=g.hD(document,"div","ytp-ce-expanding-overlay-body",C.element)[0])&&g.V_(C,"height",V+"px")}}}}};
g.w.onCueRangeEnter=function(Q){if(this.endscreen)if(Q.getId()==="ytp-ce-in-endscreen")kR(this,this.endscreen.impressionUrls),(Q=g.hC())&&this.endscreen.visualElement&&g.Zw(Q,this.endscreen.visualElement),this.Z&&(g.oW(this.Z,"ytp-ce-element-show"),this.Z.removeAttribute("aria-hidden"),this.player.MU()?g.oW(this.Z,"ytp-ce-hide-button-lower"):g.YE(this.Z,"ytp-ce-hide-button-lower"));else{Q=Q.getId().substring(15);var U=this.C[Q],q=this.U[Q];g.oW(U.element,"ytp-ce-element-show");U.element.removeAttribute("aria-hidden");
U=this.player.getRootNode();g.oW(U,"ytp-ce-shown");kR(this,q.impressionUrls);(U=g.hC())&&g.Zw(U,q.visualElement);this.player.Y().L&&this.player.l2("endscreenelementshown",Q)}};
g.w.onCueRangeExit=function(Q){if(Q.getId()==="ytp-ce-in-endscreen")this.Z&&(g.YE(this.Z,"ytp-ce-element-show"),this.Z.setAttribute("aria-hidden","true"));else{Q=Q.getId().substring(15);var U=this.C[Q];g.YE(U.element,"ytp-ce-element-show");U.element.setAttribute("aria-hidden","true");U=this.player.getRootNode();g.YE(U,"ytp-ce-shown");this.player.Y().L&&this.player.l2("endscreenelementhidden",Q)}};
g.w.sEa=function(Q){var U=this;Q.target===window&&(new g.ai(function(){for(var q=g.F(Object.values(U.C)),H=q.next();!H.done;H=q.next())g.Sd(H.value.element,["ytp-ce-force-expand","ytp-ce-element-hover","ytp-ce-element-shadow-show"])},0)).start()};
g.w.VM=function(Q){for(var U=g.F(Object.values(this.C)),q=U.next();!q.done;q=U.next())q=q.value,Q?q.element.setAttribute("hidden",""):q.element.removeAttribute("hidden")};
g.w.GrE=function(Q){this.Z&&this.player.getRootNode().removeChild(this.Z);Q&&(g.oW(Q,"ytp-ce-hide-button-container"),this.Z=Q,g.IE(this.player,this.Z,4))};
var jIz=[346,426,470,506,570,640,853,1280,1920],l2z="ytp-ce-size-346 ytp-ce-size-426 ytp-ce-size-470 ytp-ce-size-506 ytp-ce-size-570 ytp-ce-size-640 ytp-ce-size-853 ytp-ce-size-1280 ytp-ce-size-1920".split(" "),ZyA=["ytp-ce-top-left-quad","ytp-ce-top-right-quad","ytp-ce-bottom-left-quad","ytp-ce-bottom-right-quad"],a28=["ytp-ce-small-round","ytp-ce-medium-round","ytp-ce-large-round"];var EFt={DUG:"current",XgZ:"new"};var kpA={CLOSE:"close",xpA:"openUrl",SUBSCRIBE:"subscribe"},IOJ={XOC:"click",CLOSE:"close",Bf5:"hidden",cky:"rollOut",OF7:"rollOver",lFy:"shown"};pWQ.prototype.v8=function(){var Q=Nod(this,function(U){return U.type==="openUrl"&&U.url!=null});
return Q?Q.url:null};
var $0t={veK:"anchored",Bi:"branding",CHANNEL:"channel",z_v:"cta",NfG:"highlightText",c2p:"label",PLAYLIST:"playlist",POPUP:"popup",pcL:"speech",SUBSCRIBE:"subscribe",h0a:"title",VIDEO:"video",E9C:"website"},NF3={Bi:"branding",ZqD:"card",LZC:"drawer",VxC:"highlight",Lvc:"marker",E6G:"promotion",TEXT:"text",vhC:"widget"};var JD3=[".iv-promo .iv-promo-contents .iv-promo-txt .iv-promo-link:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUBAMAAAB/pwA+AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAHlBMVEVMaXH////////////////////////////////////Z6AnKAAAACXRSTlMA+/A2IuI1mJIldm0CAAAAAWJLR0QB/wIt3gAAAEVJREFUCNdjYGCYCQUMBJlACOIzIDElIcyZkwxgojOVWWDMSQauMKYySySUOSnBdSaUOZ0lEsac2YqwYiZ+JhwgM7E5HACgzVCI/YJ59AAAAABJRU5ErkJggg==) no-repeat center;background-size:10px;width:10px;height:10px}",
".iv-promo .iv-promo-actions .iv-promo-close:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJBAMAAAASvxsjAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXH///////////////////////////////////////////9tKdXLAAAAC3RSTlMAVaQDpaimqQbl5rjXUFUAAAABYktHRAH/Ai3eAAAAPUlEQVQI12MQMmAwEmDwDmaOTmAw39663YCBuXp2MQMDQ+fOBgYG5ujVwQwMptvbgeLaxczVCQwiBgxmAgBkXg1FN5iwiAAAAABJRU5ErkJggg==) no-repeat center;background-size:9px;width:9px;height:9px}",
".iv-promo .iv-promo-actions .iv-promo-expand:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAJBAMAAADnQZCTAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXHMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMz////eMKB4AAAAC3RSTlMAOpE7k5Uvj5kpfRaQSaQAAAABYktHRAsf18TAAAAAHklEQVQI12MQYGBQZmBwTWCo0GSo6AKRQDZQRIABADXXA/UkIpvtAAAAAElFTkSuQmCC) no-repeat center;background-size:4px 9px;width:4px;height:9px}",".iv-promo-website-card-cta-redesign .iv-promo-round-expand-icon:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfgCgUUEztsNfqrAAAAXklEQVRYw+3Uuw2AQAwEUUNXfBpDIvBRMhQwJJAScNrA0r4CdiQHjjAzK4NGKucPAFmCnZcmwcTphBNO9CTGH4VB+/Zm6YlYis9fhedXz38FNvFriCCl808iw8ysrBu65gCeuV/CfgAAAABJRU5ErkJggg==) no-repeat center;background-size:18px 18px;width:18px;height:18px}",
".iv-card-link-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASBAMAAACk4JNkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAGFBMVEVMaXG7u7u7u7u7u7u7u7u7u7u7u7v///+WKTAlAAAABnRSTlMAFdQWbGj9GiOuAAAAAWJLR0QHFmGI6wAAAEhJREFUCNdjYACBNCBgQGMxMKrBWEJJaRAJRjVlKEsoSQDIAqtSZICwgEIQFkgIZBRECMxiBqsCsVjAqsCygQwwFgMeFgQgswBg2xjLrfC4mgAAAABJRU5ErkJggg==) no-repeat center;background-size:9px;width:9px;height:9px}",".iv-card-playlist-video-count:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXH///////////////////////////////////////////9tKdXLAAAAC3RSTlMAvDeyLvxYtDK9Ogx4T1QAAAABYktHRAH/Ai3eAAAAK0lEQVQY02NgoBjshgO8HJoYwKiAMGAD92YHJM7uMCTO9gaEHs4FlPuZAQC8Fj8x/xHjxwAAAABJRU5ErkJggg==) no-repeat center;background-size:24px;width:24px;height:24px}"],
go7=[".iv-drawer-close-button:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMAgMAAAArG7R0AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACVBMVEVMaXH////////OZTV/AAAAAnRSTlMAoKBFbtAAAAABYktHRAH/Ai3eAAAAKUlEQVQI12MIYGBlSGGQBMIUBjbHCQyM0xwYGDIZwBjEBomB5EBqgGoBolQGzYuy51cAAAAASUVORK5CYII=) no-repeat center;background-size:12px;width:12px;height:12px}",".iv-ad-info-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAMAAACecocUAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAVFBMVEVMaXGUlJSYmJiZmZmYmJiXl5eZmZmZmZmWlpaVlZWOjo6ZmZmSkpKXl5eYmJiYmJiZmZmZmZmZmZmZmZmYmJiJiYmXl5eZmZmYmJiWlpaZmZn///+81lbeAAAAGnRSTlMAE5DM80DliTMMEjccWIM5p1UjaTQNgB5cLlr5mgUAAAABYktHRBsCYNSkAAAAVElEQVQI102NRw7AIBADhw7ppIf/PzQLJ/ZgWSNrFlDaWKMVcs6HmGLwTqjEME6CFDrAXBYIGhNh3TJEg02wHydctvFc7sbrvnXZV8/zfs3T+7u/P7CrAso35YfPAAAAAElFTkSuQmCC) no-repeat center;background-size:11px;width:11px;height:11px}",
".annotation-close-button {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAALVBMVEVMaXEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/Pz9aWloBAQGZmZlbW1v///+X9wUzAAAACHRSTlMANprf+g6lyRmB9hUAAAABYktHRA5vvTBPAAAAWUlEQVQI12NgYBAycVZkAIKwDiBIZWBgrQAx2gMY2DrAIIFBomPWju6VHY0MGh1rbu891dHEYNGx9+yd2x3NDB4d3XfO7uhoQTDgUnDFcO1wA+FWwC2FOQMAdKg6tUSAFEAAAAAASUVORK5CYII=) no-repeat center}",".annotation-link-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAMAAAANmfvwAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAUVBMVEVMaXH////////////////////////////////////////////////////////////////////////////////////////////////////////JzkR1AAAAGnRSTlMAfXf+c3xsdGdv/GJoXPtXXflSVk5L7DBH9VeFfsQAAAABYktHRAH/Ai3eAAAAgElEQVQ4y93SSQ6AIAwFULSOOOJs739Qf9SF0VA2uNCu+psHaQJK7cVCqY+Rg92PXA++Q84KnCR03UIRJrFEKMEgZYFQhpyzQHSBWJJAdIVUENtJ3SC0mu3EdOh7zXZiBrRdzQLJ0Y1GfOlpVstD3HaZktX9X/gvRCxvxL6FR7IBS1RTM5xIpLoAAAAASUVORK5CYII=) no-repeat center}"];g.h(xR,g.b);g.w=xR.prototype;g.w.addCueRange=function(Q,U,q,H,C){Q=new g.bw(Q,U,{id:q,namespace:"annotations_module"});H&&this.zC.set(Q,H);C&&this.DE.set(Q,C);this.context.G.Rm([Q],1)};
g.w.wq=function(){this.context.C.subscribe("resize",this.A4,this)};
g.w.FJ=function(){return this.element};
g.w.LQ=function(Q,U,q,H,C,V){if(this.R7)return!1;V&&(V.stopPropagation(),V.preventDefault());this.navigate(Q,q,H,C);return!1};
g.w.show=function(){};
g.w.hide=function(){};
g.w.destroy=function(){g.GH(this.FJ())};
g.w.A4=function(){};
g.w.navigate=function(Q,U,q,H){var C=this,V=ck(Q);if(V){var f=ZHt(V,Q.target),Y=function(){Q.Z&&C.context.G.pauseVideo();var S=C.context.videoData.sZ||!1,R=g.ib(V||"");S&&R&&(R.v||R.list)?C.context.G.cJ(R.v,U,R.list,!1):g.pa(V||"",f==="current"?"_top":void 0,U)};
f==="new"&&(Y(),Y=null);fE(this.context.logger,q,Y,H);aON(V)||(q=g.hC(),H=U.itct,q&&H&&g.UQ(q,g.Py(H)))}};
g.w.Cv=function(){this.zC.clear();this.DE.clear();g.b.prototype.Cv.call(this)};
g.w.createElement=function(Q){Q=new g.p(Q);g.I(this,Q);return Q.element};g.h(QIA,xR);g.w=QIA.prototype;g.w.uP=function(){this.AG&&QR(this,this.AG)};
g.w.isAvailable=function(){var Q;if(Q=!!this.cards.length)(Q=this.G.getRootNode())?(Q=g.Pr(Q),Q=173<Q.width&&173<Q.height):Q=!1;return Q};
g.w.A4=function(){var Q=this.isAvailable();g.wm(this.FJ(),Q);g.RW(this.context.G.getRootNode(),g.g4.IV_DRAWER_ENABLED,Q);M2(this.G)};
g.w.destroy=function(){this.G.Cl(!1);try{this.G.getRootNode().removeChild(this.X)}catch(Q){}g.q3(this.ZE);g.GO(this.I7);this.UA&&this.UA.dispose();this.U&&this.U.dispose();xR.prototype.destroy.call(this)};
g.w.NN=function(){var Q=this;this.context.Z.listen(g.Wa("iv-drawer-close-button",this.X),"click",this.Kw,this);this.context.Z.listen(this.C,"touchend",function(){Q.Ha.start()});
this.context.Z.listen(this.C,"scroll",this.jy,this);this.context.C.subscribe("onHideControls",function(){Q.JG=!0});
this.context.C.subscribe("onShowControls",function(){Q.JG=!1});
this.context.C.subscribe("onVideoAreaChange",function(){Q.JG=g.fo(Q.G.getRootNode(),"ytp-autohide")});
this.ZE.push(g.Up("iv-button-shown",this.XDK,this));this.ZE.push(g.Up("iv-button-hidden",this.gHv,this));TFd(this)};
g.w.findLastIndex=function(Q){if(this.cards.length===0)return 0;var U=g.tz(this.cards,function(q){return Q.QO.startMs>q.QO.startMs||Q.QO.startMs===q.QO.startMs&&Q.QO.timestamp>=q.QO.timestamp?!0:!1});
return U===-1?0:U+1};
g.w.Kw=function(){if(this.T){fE(this.context.logger,HO(this).yv.close);var Q=g.hC();Q&&this.L&&g.UQ(Q,this.L);ZU(this)}};
g.w.jy=function(){g.RW(this.X,"iv-drawer-scrolled",this.C.scrollTop>0)};
g.w.XDK=function(){var Q=g.hC(),U=HO(this);U=U?U.Y8:this.Y8;Q&&U&&g.vy(Q,[U])};
g.w.gHv=function(){var Q=g.hC(),U=HO(this);U=U?U.Y8:this.Y8;Q&&U&&g.QA(Q,[U])};
g.w.aY=function(){var Q=HO(this);fE(this.context.logger,Q.yv.FA);var U=g.hC();if(U&&Q)if(this.G.j("web_infocards_teaser_show_logging_fix")){var q=[];Q.PC&&q.push(Q.PC);Q.Y8&&q.push(Q.Y8);q.length>0&&g.vy(U,q)}else g.vy(U,[Q.PC,Q.Y8])};
g.w.Fiy=function(){var Q=g.hC(),U=HO(this);Q&&U&&g.QA(Q,[U.PC])};
g.w.t_=function(Q){var U=HO(this),q=g.hC();this.Z?Q?(Q=this.context.logger,fE(Q,U.yv.uG),Q.G.sendVideoStatsEngageEvent(4,void 0),q&&U.PC&&g.UQ(q,U.PC)):(Q=this.context.logger,fE(Q,U.yv.uG),Q.G.sendVideoStatsEngageEvent(4,void 0),q&&U.Y8&&g.UQ(q,U.Y8)):(Q=this.context.logger,fE(Q,U.yv.uG),Q.G.sendVideoStatsEngageEvent(4,void 0),q&&this.Y8&&g.UQ(q,this.Y8))};g.h(CE,xR);CE.prototype.wq=function(){xR.prototype.wq.call(this);m0Q(this)};
CE.prototype.show=function(){xR.prototype.show.call(this);var Q=g.hC(),U=this.annotation.data;Q&&U&&(U=U.session_data)&&g.vy(Q,[g.Py(U.itct)])};
CE.prototype.hide=function(){xR.prototype.hide.call(this);var Q=g.hC(),U=this.annotation.data;Q&&U&&(U=U.session_data)&&g.QA(Q,[g.Py(U.itct)])};g.h(VR,CE);
VR.prototype.show=function(){if(!this.isActive){CE.prototype.show.call(this);if(!this.T){g.oW(this.FJ(),"iv-branding");var Q=this.annotation.data;this.Z=this.createElement({S:"img",Sp:["branding-img","iv-click-target"],N:{"aria-label":"Channel watermark",src:Q.image_url,width:Q.image_width,height:Q.image_height}});g.wm(this.Z,!1);var U=this.createElement({S:"button",Sp:["branding-img-container","ytp-button"]});U.appendChild(this.Z);this.FJ().appendChild(U);var q=this.annotation.v8();q&&jF(this,U,
q,this.annotation.id,Q.session_data);this.T=!0}g.wm(this.FJ(),!0);this.isActive=!0;if(this.Z){try{PiN(this,this.Z)}catch(H){}g.oW(this.context.G.getRootNode(),"ytp-branding-shown");this.context.G.getRootNode().style.setProperty("--branding-image-width",this.Z.getAttribute("width")+"px")}}};
VR.prototype.hide=function(){this.isActive&&(CE.prototype.hide.call(this),g.wm(this.FJ(),!1),this.isActive=!1,g.YE(this.context.G.getRootNode(),"ytp-branding-shown"))};
VR.prototype.destroy=function(){this.C&&(this.C.dispose(),this.C=null);g.YE(this.context.G.getRootNode(),"ytp-branding-shown");CE.prototype.destroy.call(this)};g.h(sIQ,CE);g.w=sIQ.prototype;g.w.show=function(){this.isActive||(CE.prototype.show.call(this),this.u2||(hvd(this),this.u2=!0),g.wm(this.FJ(),!0),g.AZ(function(){g.YE(this.FJ(),"iv-promo-inactive")},100,this),this.FJ().removeAttribute("aria-hidden"),this.isActive=!0,nod(this),W8d(this),XaA(this,this.U))};
g.w.hide=function(){this.isActive&&(g.oW(this.FJ(),"iv-promo-inactive"),this.isActive=!1,this.FJ().setAttribute("aria-hidden","true"))};
g.w.LQ=function(Q,U,q,H,C,V){return this.isCollapsed?!1:CE.prototype.LQ.call(this,Q,U,q,H,C,V)};
g.w.C2E=function(Q){this.L=!0;K8J(this,500,Q)};
g.w.Mp7=function(){this.L=!1;yDx(this)};
g.w.eG=function(Q){Q.stopPropagation();this.hide()};
g.w.s7L=function(Q){Q.stopPropagation();nod(this);this.isCollapsed=!0;g.oW(this.FJ(),"iv-promo-collapsed-no-delay");this.J.start()};
g.w.destroy=function(){this.J.dispose();CE.prototype.destroy.call(this)};g.h(OyH,g.Yr);g.w=OyH.prototype;g.w.kP=function(Q,U){if(!x0d(this.player.Y().playerStyle))return null;switch(Q){case "loadCustomAnnotationsXml":return(Q=g.$H(U))&&d0t(this,Q),!0;case "removeCustomAnnotationById":return U&&this.Z&&(Cit(this.Z,U),M2(this.player)),!0}return null};
g.w.getOptions=function(){return x0d(this.player.Y().playerStyle)?["loadCustomAnnotationsXml","removeCustomAnnotationById"]:[]};
g.w.GD=function(){var Q=this.player.getVideoData(),U,q,H=(U=Q.getWatchNextResponse())==null?void 0:(q=U.playerOverlays)==null?void 0:q.playerOverlayRenderer;if(Q.sZ||this.player.isMutedByEmbedsMutedAutoplay())return!1;if(!this.player.j("web_fix_annotations"))return evx(this);if(evx(this)){if((H==null?void 0:H.isWatermarkEnforced)===!0)return!0;var C;return(C=H==null?void 0:H.isAnnotationsEnabled)!=null?C:!1}return!1};
g.w.j4=function(){if(this.T){var Q=this.player.k5().getVideoContentRect(!0);g.mB(this.T.element,Q.width,Q.height);g.RG(this.T.element,Q.left,Q.top)}if(this.Z){var U=this.player.eY();Q=this.Z;U=U.width;g.RW(Q.X,"iv-drawer-small",U<=426);g.RW(Q.X,"iv-drawer-big",U>=1280)}};
g.w.zq=function(Q){byH(this,Q.state);g.t(Q.state,2)&&(this.MU()&&this.CF()&&this.player.getPresentingPlayerType()!==2&&this.bA(!1),this.Cl(!1))};
g.w.load=function(){g.Yr.prototype.load.call(this);byH(this,this.player.getPlayerStateObject());this.loadNumber++;var Q=this.player.getVideoData();EoA(this,Q);g.IE(this.player,this.T.element,4);this.j4();var U=g.$a(Q),q=g.Np(Q);if(this.player.j("web_fix_annotations")){if(U){U.featuredChannel&&tQz(this,U.featuredChannel,U.annotationId||"branding",Q.videoId||null,Q.eventId||null);var H,C;U=(H=this.player.getVideoData().getWatchNextResponse())==null?void 0:(C=H.playerOverlays)==null?void 0:C.playerOverlayRenderer;
if(U!=null&&U.isWatermarkEnforced&&(U==null||!U.isAnnotationsEnabled))return}q&&paQ(this,q)}else q&&paQ(this,q),U&&U.featuredChannel&&tQz(this,U.featuredChannel,U.annotationId||"branding",Q.videoId||null,Q.eventId||null);this.BK=g.Wa("ytp-cards-button",this.player.getRootNode());g.pz(Q)&&ADd(this,Q)};
g.w.onVideoDataChange=function(Q){var U=this.player.getVideoData();U.qS&&rDH(this,U.qS,Q)};
g.w.unload=function(){this.player.j_("annotations_module");for(var Q=g.F(Object.keys(this.B)),U=Q.next();!U.done;U=Q.next())this.B[U.value].destroy();this.u2=null;this.Z&&(this.Z.destroy(),this.Z=null,M2(this.player));this.L=!1;this.U&&(this.U.abort(),this.U=null);this.ZE=!1;this.B={};this.C.hide();g.Yr.prototype.unload.call(this);this.T.detach();D0d(this)};
g.w.Fa=function(Q){Q===this.player.getVideoData().videoId&&(this.loaded?I2H(this):this.load())};
g.w.MU=function(){var Q;return((Q=this.Z)==null?void 0:Q.isAvailable())||this.ZE};
g.w.CF=function(){return!!this.Z&&this.Z.T};
g.w.bA=function(Q,U,q){U=U===void 0?!1:U;this.MU();this.Z&&(Q?q?aD(this.Z,q,U):aD(this.Z,"YOUTUBE_DRAWER_AUTO_OPEN",U):ZU(this.Z))};
g.w.Cl=function(Q,U){this.player.publish(Q?"cardsteasershow":"cardsteaserhide",U)};
g.w.Cv=function(){this.player.Y().JG.unsubscribe("vast_info_card_add",this.Fa,this);g.YE(this.player.getRootNode(),g.g4.IV_DRAWER_OPEN);for(var Q=this.AG,U=g.pL,q=0,H=Q.length;q<H;q++)U.Cq(Q[q]);this.AG.length=0;g.Yr.prototype.Cv.call(this)};
g.w.createElement=function(Q){Q=new g.p(Q);g.I(this,Q);return Q.element};g.TD("annotations_module",OyH);g.TD("creatorendscreen",XWz);})(_yt_player);
