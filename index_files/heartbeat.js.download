(function(g){var window=this;'use strict';var rqH=function(Q,U){if(!Number.isFinite(Q))return String(Q);Q=String(Q);var q=Q.indexOf(".");q===-1&&(q=Q.length);var H=Q[0]==="-"?"-":"";H&&(Q=Q.substring(1));return H+(0,g.hVb)("0",Math.max(0,U-q))+Q},AqN=function(){return{S:"svg",
N:{fill:"#fff",height:"24px",viewBox:"0 0 24 24",width:"24px"},W:[{S:"path",N:{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"}}]}},Eb8=function(){return{S:"svg",
N:{fill:"#fff",height:"24px",viewBox:"0 0 24 24",width:"24px"},W:[{S:"path",N:{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"}}]}},kfJ=function(Q){typeof Q==="number"?(this.date=bjd(Q,0,1),wn(this,1)):g.gd(Q)?(this.date=bjd(Q.getFullYear(),Q.getMonth(),Q.getDate()),wn(this,Q.getDate())):(this.date=new Date(g.Az()),Q=this.date.getDate(),
this.date.setHours(0),this.date.setMinutes(0),this.date.setSeconds(0),this.date.setMilliseconds(0),wn(this,Q))},bjd=function(Q,U,q){U=new Date(Q,U,q);
Q>=0&&Q<100&&U.setFullYear(U.getFullYear()-1900);return U},wn=function(Q,U){Q.getDate()!=U&&Q.date.setUTCHours(Q.date.getUTCHours()+(Q.getDate()<U?1:-1))},sX=function(Q,U){g.jn.call(this,Q,{S:"div",
D:"ytp-reminder-menu",N:{role:"menu",tabindex:"-1"},W:[{S:"div",D:"ytp-reminder-menu-contents",W:[{S:"div",D:"ytp-reminder-menu-items"}]}]},100,!0);this.Z=U;this.C=[];this.menuPopupRenderer=void 0;this.items=this.b2("ytp-reminder-menu-items");this.hide()},Ijz=function(Q){return(Q.menuPopupRenderer&&Q.menuPopupRenderer.items||[]).reduce(function(U,q){q&&q.menuServiceItemRenderer&&U.push(q.menuServiceItemRenderer);
return U},[])},Ks=function(Q){g.p.call(this,{S:"div",
W:[{S:"button",Sp:["ytp-offline-slate-button","ytp-button"],W:[{S:"div",D:"ytp-offline-slate-button-icon",MK:"{{icon}}"},{S:"div",D:"ytp-offline-slate-button-text",MK:"{{text}}"}]}]});this.G=Q;this.upcomingEventReminderButtonRenderer=this.toggleButtonRenderer=null;this.C=void 0;this.X=this.Z=null;(this.J=this.b2("ytp-offline-slate-button"))&&this.V(this.J,"click",this.U);this.hide()},pfd=function(Q,U,q){!Q.toggleButtonRenderer&&U&&U.toggleButtonRenderer?Q.toggleButtonRenderer=U.toggleButtonRenderer:
U&&U.toggleButtonRenderer||(Q.toggleButtonRenderer=null);
!Q.upcomingEventReminderButtonRenderer&&q&&g.K(q,cq$)?Q.upcomingEventReminderButtonRenderer=g.K(q,cq$):q&&g.K(q,cq$)||(Q.upcomingEventReminderButtonRenderer=null);hG(Q)},hG=function(Q){if(Q.toggleButtonRenderer){var U=Q.toggleButtonRenderer;
if(U.isToggled){var q=U.toggledText?g.B_(U.toggledText):"";Q.update({text:q,icon:NEd(U.toggledIcon)})}else q=U.defaultText?g.B_(U.defaultText):"",Q.update({text:q,icon:NEd(U.defaultIcon)});Q.show()}else Q.upcomingEventReminderButtonRenderer?(U=$q3(Q))?(q=U.text?g.B_(U.text):"",Q.update({text:q,icon:NEd(U.icon)}),Q.show()):Q.hide():Q.hide()},xqz=function(Q,U,q){Q.X||(Q.X=new g.j2(Q.G.Y().Er));
var H={context:g.R0(Q.X.config_||g.S2())};g.hC()&&(H.context.clientScreenNonce=g.hC());H.params=q;g.lh(Q.X,U,H,{timeout:5E3,onSuccess:function(){Q.upcomingEventReminderButtonRenderer&&Q.C&&(Q.upcomingEventReminderButtonRenderer.currentState=Q.C,Q.C=void 0)},
onError:function(){tbH(Q)},
onTimeout:function(){tbH(Q)}})},tbH=function(Q){Q.toggleButtonRenderer?(Q.toggleButtonRenderer.isToggled=!Q.toggleButtonRenderer.isToggled,hG(Q)):Q.upcomingEventReminderButtonRenderer&&(Q.C=void 0,hG(Q))},NEd=function(Q){if(!Q)return null;
switch(Q.iconType){case "NOTIFICATIONS":return AqN();case "NOTIFICATIONS_NONE":return Eb8();case "NOTIFICATIONS_ACTIVE":return g.X$();default:return null}},$q3=function(Q){if(!Q.upcomingEventReminderButtonRenderer)return null;
var U=Q.C||Q.upcomingEventReminderButtonRenderer.currentState;Q=g.F(Q.upcomingEventReminderButtonRenderer.states||[]);for(var q=Q.next();!q.done;q=Q.next())if((q=g.K(q.value,jFQ))&&q.state===U&&q.button&&g.K(q.button,g.yX))return g.K(q.button,g.yX);return null},lj7=function(Q){g.p.call(this,{S:"div",
D:"ytp-offline-slate",W:[{S:"div",D:"ytp-offline-slate-background"},{S:"div",D:"ytp-offline-slate-bar",W:[{S:"span",D:"ytp-offline-slate-icon",W:[{S:"svg",N:{fill:"#fff",height:"100%",viewBox:"0 0 24 24",width:"100%"},W:[{S:"path",N:{d:"M16.94 6.91l-1.41 1.45c.9.94 1.46 2.22 1.46 3.64s-.56 2.71-1.46 3.64l1.41 1.45c1.27-1.31 2.05-3.11 2.05-5.09s-.78-3.79-2.05-5.09zM19.77 4l-1.41 1.45C19.98 7.13 21 9.44 21 12.01c0 2.57-1.01 4.88-2.64 6.54l1.4 1.45c2.01-2.04 3.24-4.87 3.24-7.99 0-3.13-1.23-5.96-3.23-8.01zM7.06 6.91c-1.27 1.3-2.05 3.1-2.05 5.09s.78 3.79 2.05 5.09l1.41-1.45c-.9-.94-1.46-2.22-1.46-3.64s.56-2.71 1.46-3.64L7.06 6.91zM5.64 5.45L4.24 4C2.23 6.04 1 8.87 1 11.99c0 3.13 1.23 5.96 3.23 8.01l1.41-1.45C4.02 16.87 3 14.56 3 11.99s1.01-4.88 2.64-6.54z"}},
{S:"circle",N:{cx:"12",cy:"12",r:"3"}}]}]},{S:"span",D:"ytp-offline-slate-messages",W:[{S:"div",D:"ytp-offline-slate-main-text",N:{"aria-label":"{{label}}"},MK:"{{mainText}}"},{S:"div",D:"ytp-offline-slate-subtitle-text",MK:"{{subtitleText}}"}]},{S:"span",D:"ytp-offline-slate-buttons"}]},{S:"button",Sp:["ytp-offline-slate-close-button","ytp-button"],W:[g.P_()]},{S:"button",Sp:["ytp-offline-slate-open-button","ytp-button"],W:[g.m4()]}]});var U=this;this.api=Q;this.Z=this.C=null;this.background=this.b2("ytp-offline-slate-background");
this.T=this.b2("ytp-offline-slate-bar");this.J=new g.ai(function(){g.oW(U.T,"ytp-offline-slate-bar-fade")},15E3);
this.U=!1;this.X=new g.ai(function(){g.oW(U.element,"ytp-offline-slate-collapsed")},15E3);
g.I(this,this.X);g.I(this,this.J);this.countdownTimer=new g.ai(this.Pn,1E3,this);this.V(Q,"presentingplayerstatechange",this.uO);this.V(Q,"livestatedata",this.OA);this.V(this.b2("ytp-offline-slate-close-button"),"click",function(){g.oW(U.element,"ytp-offline-slate-collapsed")});
this.V(this.b2("ytp-offline-slate-open-button"),"click",function(){g.YE(U.element,"ytp-offline-slate-collapsed")});
this.hide();Q=this.getVideoData();Q.getPlayerResponse()&&(Q=Q.getPlayerResponse().playabilityStatus)&&this.OA(Q);Q=this.api.getPresentingPlayerType()===8&&!this.getVideoData().E$;var q=this.api.getPresentingPlayerType()===8;g.RW(this.element,"ytp-offline-slate-premiere-trailer",Q);g.RW(this.element,"ytp-offline-slate-hide-background",q)},ajQ=function(Q,U,q){if(U){var H=U.subtitleText!=null?g.B_(U.subtitleText):"";
q=q?q:U.mainText!=null?g.B_(U.mainText):"";var C,V,f,Y;U=(Y=(C=U.mainText)==null?void 0:(V=C.accessibility)==null?void 0:(f=V.accessibilityData)==null?void 0:f.label)!=null?Y:q;Q.update({mainText:q,subtitleText:H,label:U});g.RW(Q.element,"ytp-offline-slate-single-text-line",!H);g.RW(Q.T,"ytp-offline-slate-bar-hidden",!q&&!H)}},W8=function(Q,U){var q=(0,g.nQ)();
this.trigger=Q;this.Z=U;this.T=q},HMx=function(Q){g.Yr.call(this,Q);
var U=this;this.B=!1;this.L=0;this.J=!1;this.C=new g.ai(function(){Zj7(U)},0);
this.Z=this.heartbeatParams=null;this.X=!1;this.U=new g.cN(1E3,6E4,1);this.sequenceNumber=0;this.offlineSlate=null;this.ZE=new g.j2(void 0);this.attestationResponse=Promise.resolve(void 0);this.u2=Promise.resolve(void 0);this.utcOffsetMinutes=-(new kfJ).getTimezoneOffset();this.T=new g.Sf(this);g.I(this,this.C);g.I(this,this.T);vbz(this);QRQ(this);this.T.V(Q,"heartbeatparams",this.HA);this.T.V(Q,"presentingplayerstatechange",this.e$);this.T.V(Q,"videoplayerreset",this.sE);this.T.V(Q,g.IM("heartbeat"),
this.onCueRangeEnter);this.X&&this.Z&&UGd(this,void 0,this.Z);var q=new g.bw(XZ(this,!0),0x7ffffffffffff,{priority:1,namespace:"heartbeat"}),H=new g.bw(0x8000000000000,0x8000000000000,{id:"stream_end",priority:1,namespace:"heartbeat"});Q.Rm([q,H]);qmz(this)},qmz=function(Q){var U=Q.getVideoData();
!U.j("use_rta_for_player")&&U.eQ&&(U=U.botguardData)&&g.Wt(U,Q.player.Y())},CCQ=function(Q){var U,q;
return g.A(function(H){if(H.Z==1)return g.G(H,g.LTe(),2);if(!H.C)return Q.sequenceNumber>=3?H.return({error:"ATTESTATION_ERROR_VM_INTERNAL_ERROR"}):H.return(void 0);U=Q.getVideoData();q={};return H.return(g.zIH((q.cpn=U.clientPlaybackNonce,q.encryptedVideoId=U.videoId||"",q),1500))})},vbz=function(Q){var U=Q.getVideoData();
if(U.eQ)if(U.j("use_rta_for_player"))Q.attestationResponse=CCQ(Q);else if(U=new g.VD6(U),g.sV.isInitialized()||Q.sequenceNumber>=3){var q=Promise,H=q.resolve,C=null;if(U.videoData.Wp){var V=g.fho(U);if(V){C={};var f={};V=V.split("&");V=g.F(V);for(var Y=V.next();!Y.done;Y=V.next())Y=Y.value.split("="),Y.length===2&&(f[Y[0]]=Y[1]);f.r1a&&(C.webResponse=f.r1a);f.r1c&&(C.error=V13[Number(f.r1c)]);C.challenge=U.videoData.Wp}}Q.attestationResponse=H.call(q,C||void 0)}},fpz=function(Q){var U=Q.getVideoData();
if(!g.Fw(Q.getVideoData())||U.MX)return!1;if(U.J){Q=U.J.flavor==="playready"&&U.j("html5_innertube_heartbeats_for_playready");var q=U.J.flavor==="widevine"&&U.j("html5_innertube_heartbeats_for_widevine");U=g.Se(U.J)&&U.j("html5_innertube_heartbeats_for_fairplay");return!(Q||q||U)}return!0},oM7=function(Q){if(fpz(Q))return!!Q.heartbeatParams;
var U=Q.getVideoData();return!g.Fw(Q.getVideoData())||U.uW||U.Db?!!U.heartbeatToken:!1},yE=function(Q,U){if(!Q.C.isActive()&&Q.B){var q=Q.getVideoData();
if(oM7(Q)||q.isLivePlayback){if(U===void 0)if(Q.J)if(Q.X)U=7500;else{var H;U=((H=Q.heartbeatParams)==null?0:H.interval)?Q.heartbeatParams.interval*1E3:Q.getVideoData().bE||6E4}else U=1E3;Q.C.start(U)}}},SmQ=function(Q,U,q){U.Dn&&(q=g.FW(q,{internalipoverride:U.Dn}));
var H={cpn:U.clientPlaybackNonce};U.contextParams&&(H.context_params=U.contextParams);U.EA&&(H.kpt=U.EA);q=g.FW(q,H);g.gR(q,{format:"RAW",method:"GET",timeout:3E4,onSuccess:function(C){if(!Q.C.isActive()&&ns(Q)){Q.U.reset();Q.sequenceNumber++;C=C.responseText;var V=iM$(C);if(V){Q.player.l2("onHeartbeat",V);var f=V.status==="ok"?V.stop_heartbeat?2:0:V.status==="stop"?1:V.status==="live_stream_offline"?0:-1}else f=(f=C.match(TTd))?f[1]==="0"?0:1:-1;Ymd(Q,void 0,V,C,f)}},
onError:function(C){ns(Q)&&Mr(Q,!0,"net-"+C.status)},
onTimeout:function(){ns(Q)&&Mr(Q,!0,"timeout")},
withCredentials:!0})},Zj7=function(Q){var U,q;
g.A(function(H){U=Q.player.Y();q=Q.getVideoData();if(!ns(Q))return H.return();if(fpz(Q))return REz(Q,U,q),H.gL(0);vbz(Q);return g.G(H,BTx(Q,U,q),0)})},REz=function(Q,U,q){var H;
if((H=Q.heartbeatParams)!=null&&H.url){var C=g.FW(Q.heartbeatParams.url,{request_id:g.vE9()});q.AG&&(C=g.FW(C,{vvt:q.AG}),q.mdxEnvironment&&(C=g.FW(C,{mdx_environment:q.mdxEnvironment})));g.L8(U,q.oauthToken).then(function(V){V&&(C=g.FW(C,{access_token:V}));SmQ(Q,q,C)})}},ns=function(Q){var U=Q.getVideoData();
return Q.player.getPresentingPlayerType()===3||!Q.player.Y().experiments.EP().Z.h3(g.ff3)&&g.t(Q.player.getPlayerStateObject(Q.getPlayerType()),4)?!1:oM7(Q)||U.isLivePlayback?!0:(D0(Q),!1)},BTx=function(Q,U,q){var H,C,V,f,Y,S,R,B,z,m,L,P,W,y,e,O,d,u,c,k;
return g.A(function(v){if(v.Z==1)return H="player/heartbeat",V={videoId:q.videoId,sequenceNumber:Q.sequenceNumber,heartbeatServerData:(C=Q.AG)!=null?C:q.heartbeatServerData},Q.u2=Q.attestationResponse,q.eQ?g.G(v,Q.u2,3):v.gL(2);v.Z!=2&&(V.attestationResponse=v.C);f=g.Sn(q);S=(Y=f.client)!=null?Y:{};S.utcOffsetMinutes=Q.utcOffsetMinutes;V.context=f;V.cpn=q.clientPlaybackNonce;if(R=typeof Intl!=="undefined"?(new Intl.DateTimeFormat).resolvedOptions().timeZone:null)S.timeZone=R;B={heartbeatChecks:[]};
if(z=q.getPlayerResponse())q.heartbeatToken&&(V.heartbeatToken=q.heartbeatToken),(m=z.playabilityStatus)&&(L=m.liveStreamability)&&L.liveStreamabilityRenderer&&B.heartbeatChecks.push("HEARTBEAT_CHECK_TYPE_LIVE_STREAM_STATUS");q.heartbeatToken&&B.heartbeatChecks.push("HEARTBEAT_CHECK_TYPE_YPC");g.YY(U)&&(B.heartbeatChecks.push("HEARTBEAT_CHECK_TYPE_UNPLUGGED"),P=zEt(Q),W={},P!==null&&(W.clientPlayerPositionUtcMillis=P),e=(y=Q.player.J3())==null?void 0:g.WU(y),d=((O=e)==null?void 0:O.freePreviewWatchedDuration)||
0,d>0&&(W.freePreviewWatchedDuration={seconds:""+d}),B.unpluggedParams=W);V.heartbeatRequestParams=B;q.isLivePlayback?(u=zEt(Q),u!==null&&(V.playbackState||(V.playbackState={}),V.playbackState.playbackPosition={utcTimeMillis:u})):U.j("enable_heartbeat_vod_playback_position")&&(c=LZt(Q),c!==null&&(V.playbackState||(V.playbackState={}),V.playbackState.playbackPosition={streamTimeMillis:c}));Q.player.publish("heartbeatRequest",V);k={timeout:3E4,onSuccess:function(qH){if(!Q.C.isActive()&&ns(Q)){var Ho=
Q.getVideoData(),ff=Ho.eQ&&Q.u2==null,Bo;Ho.eQ=!((Bo=qH.heartbeatAttestationConfig)==null||!Bo.requiresAttestation)||ff;ff=qH.playabilityStatus;Bo=JSON.stringify(ff)||"{}";qH.authenticationMismatch&&Q.player.rL("authshear",{});var Cf=-1;var Wo=qH.playabilityStatus;Wo&&(Q.player.l2("onHeartbeat",Wo),Wo.status==="OK"?Cf=qH.stopHeartbeat?2:0:Wo.status==="UNPLAYABLE"?Cf=1:Wo.status==="LIVE_STREAM_OFFLINE"&&(Cf=0));Q.sequenceNumber&&Cf===-1||Q.U.reset();Q.sequenceNumber++;qH.heartbeatServerData&&(Q.AG=
qH.heartbeatServerData);Ho.Ri=qH;(Wo=qH.playerCueRangeSet)&&g.id(Ho,Wo);qH.playerCueRanges&&qH.playerCueRanges.length>0&&(Ho.cueRanges=qH.playerCueRanges);var vo,i$;((vo=qH.progressBarConfig)==null?0:vo.progressBarStartPosition)&&((i$=qH.progressBarConfig)==null?0:i$.progressBarEndPosition)&&(Ho.progressBarStartPosition=qH.progressBarConfig.progressBarStartPosition,Ho.progressBarEndPosition=qH.progressBarConfig.progressBarEndPosition);Ho.compositeLiveIngestionOffsetToken=qH.compositeLiveIngestionOffsetToken;
qH.compositeLiveStatusToken!==Ho.compositeLiveStatusToken&&(Ho.compositeLiveStatusToken=qH.compositeLiveStatusToken);Ho.heartbeatLoggingToken=qH.heartbeatLoggingToken;Ho.publish("dataupdated");Ymd(Q,qH,ff,Bo,Cf)}},
onError:function(qH){ns(Q)&&Mr(Q,!0,"net-"+qH.status)},
onTimeout:function(){ns(Q)&&Mr(Q,!0,"timeout")}};
g.L8(U,g.aA(q)).then(function(qH){qH&&(k.Xq="Bearer "+qH);g.lh(Q.ZE,H,V,k)});
g.Cx(v)})},Ymd=function(Q,U,q,H,C){C===-1?(q="decode "+g.cr(H,3),Mr(Q,!1,q)):C===2?(D0(Q),Q.J=!0):(Q.L=0,Q.C.stop(),C===1?(Q.J=!1,q&&q.errorCode==="PLAYABILITY_ERROR_CODE_EMBARGOED"&&Q.player.Ye(!0),C="pe."+(q==null?void 0:q.errorCode)+";ps."+(q==null?void 0:q.status),Q.player.W8("heartbeat.stop",2,Q.J1(H),C),g.LD("heartbeatActionPlayerHalted",mGH(q)),(U==null?0:U.videoTransitionEndpoint)&&q&&(U=U.videoTransitionEndpoint,(H=g.K(U,g.Ya))&&PC8(Q,H,q,{itct:U==null?void 0:U.clickTrackingParams}))):(Q.J=
!0,H=0,Q.X&&q&&(H=UGd(Q,U,q),Q.player.publish("livestatedata",q)),H?yE(Q,H):yE(Q)))},UGd=function(Q,U,q){var H=q.liveStreamability&&q.liveStreamability.liveStreamabilityRenderer,C=!(!H||!(H.switchStreamsImmediately||H.transitionTiming&&H.transitionTiming==="STREAM_TRANSITION_TIMING_IMMEDIATELY"));
U=w1A(U,H);var V=Q.getVideoData(),f=Q.player.getPlayerStateObject(Q.getPlayerType()),Y=f.isPlaying()&&!g.E9(V)&&!Q.player.isAtLiveHead(Q.getPlayerType());if(V.Y().f_()){var S,R=((S=Q.player.El())==null?void 0:S.WD())||{};R.status=q.status||"";R.dvr=""+ +Y;R["switch"]=""+ +C;R.ended=""+ +!(!H||!H.displayEndscreen);Q.player.rL("heartbeat",R)}S=H&&H.broadcastId;R=Q.Z&&Q.Z.liveStreamability&&Q.Z.liveStreamability.liveStreamabilityRenderer&&Q.Z.liveStreamability.liveStreamabilityRenderer.broadcastId;var B=
S!==R&&S!=null;B&&Q.player.rL("lbidh",{broadcastId:S},!0);var z=Q.player.j("always_cache_redirect_endpoint");if(Y&&!C&&!z)return U;var m=H&&H.streamTransitionEndpoint&&g.K(H.streamTransitionEndpoint,g.Ya),L=H&&H.transitionTiming;if(L==="STREAM_TRANSITION_TIMING_AT_STREAM_END")Q.getVideoData().transitionEndpointAtEndOfStream=m;else if(z&&!m&&Q.getVideoData().transitionEndpointAtEndOfStream)Q.getVideoData().transitionEndpointAtEndOfStream=void 0;else if(!z&&m&&PC8(Q,m,q))return U;if(Y&&!C&&z||z&&m&&
(L==="STREAM_TRANSITION_TIMING_IMMEDIATELY"||L==="STREAM_TRANSITION_TIMING_UNSPECIFIED")&&PC8(Q,m,q))return U;if(q.status.toUpperCase()==="OK"){if(!g.ud(V)||B){var P={video_id:V.videoId};V.dI&&(P.is_live_destination="1");P.disable_watch_next=!0;P.raw_watch_next_response=V.getWatchNextResponse();P.autonav_state=V.autonavState;P.oauth_token=V.oauthToken;P.bY=V.bY;V.U&&(P.vss_credentials_token=V.U,P.vss_credentials_token_type=V.ov);V.AG&&(P.vvt=V.AG);H=void 0;g.ud(V)?B&&(H=new W8("broadcastIdChanged",
R+","+S),Q.iE("HEARTBEAT_ACTION_TRIGGER_IMMEDIATE","HEARTBEAT_ACTION_TRANSITION_REASON_BROADCAST_ID_CHANGED",q)):(S&&(H=new W8("formatsReceived",""+S)),Q.iE("HEARTBEAT_ACTION_TRIGGER_IMMEDIATE","HEARTBEAT_ACTION_TRANSITION_REASON_LIVE_STREAM_WENT_ONLINE",q));B&&Q.player.rL("lbidr",{broadcastId:S});Q.player.loadVideoByPlayerVars(P,void 0,void 0,void 0,H);return U}Q.player.Xe("heartbeat",Q.getPlayerType())}H&&H.displayEndscreen&&(Q.offlineSlate?(Q=Q.offlineSlate,Q.U=!0,Q.Tm&&Q.api.dk()):f.isBuffering()&&
(V=((P=Q.player.El())==null?void 0:P.WD())||{},Q.player.rL("hbse",V,!0),Q.player.dk(!0,"h"),Q.player.l2("onLiveMediaEnded",q)));return U},w1A=function(Q,U){return(Q=Number(Q==null?void 0:Q.pollDelayMs))?Q:(U=Number(U==null?void 0:U.pollDelayMs))?U:0},Mr=function(Q,U,q){if(!Q.C.isActive()){Q.C.stop();
Q.L++;var H=U?"heartbeat.net":"heartbeat.servererror";var C=Q.getVideoData();if(C.Yr||U&&!g.Fw(Q.getVideoData())&&!oM7(Q)&&C.isLivePlayback)C=!1;else{var V,f;((f=Q.heartbeatParams)==null?0:f.retries)?V=Q.heartbeatParams.retries:V=C.EF||5;C=Q.L>=V}C?(g.LD("heartbeatActionPlayerHalted",U?{enforcedPolicyToHaltOnNetworkFailure:!0}:mGH()),(U=Q.getVideoData())&&U.isLivePlayback?Q.player.W8(H,1,"Video playback interrupted. Please try again.",q):Q.player.W8(H,1,"Sorry, there was an error licensing this video.",
q)):(yE(Q,Q.U.getValue()),g.p_(Q.U))}},mGH=function(Q){var U={enforcedPolicyToHaltOnNetworkFailure:!1};
Q&&(U.serializedServerContext=Q.additionalLoggingData);return U},D0=function(Q){Q.L=0;
Q.C.stop();Q.J=!1;Q.sequenceNumber=0},QRQ=function(Q){var U=Q.getVideoData(),q=Q.player.Y();
if(U.isLivePlayback)if(g.y$(q.J)){Q.X=!0;Q.B=!0;if(!g.RM(q)||g.YY(q))Q.offlineSlate=new lj7(Q.player),g.I(Q,Q.offlineSlate),g.IE(Q.player,Q.offlineSlate.element,4);(U=U.getPlayerResponse())&&U.playabilityStatus&&(Q.Z=U.playabilityStatus);var H;((H=Q.Z)==null?void 0:H.status)!=="UNPLAYABLE"&&(Q.Z?(H=w1A(void 0,Q.Z.liveStreamability&&Q.Z.liveStreamability.liveStreamabilityRenderer))?yE(Q,H):yE(Q,7500):yE(Q,XZ(Q,!0)))}else Q.player.W8("html5.unsupportedlive",2,"HTML5_NO_AVAILABLE_FORMATS_FALLBACK","nolive.1");
else g.x8(U.n4,"heartbeat")&&Q.player.Xe("heartbeat",Q.getPlayerType())},PC8=function(Q,U,q,H){var C=U&&U.videoId;
return C?(Q.player.cJ(C,Object.assign({},{autonav:"1"},H||{}),void 0,!0,!0,U,g.aA(Q.getVideoData())),Q.iE("HEARTBEAT_ACTION_TRIGGER_IMMEDIATE","HEARTBEAT_ACTION_TRANSITION_REASON_HAS_NEW_STREAM_TRANSITION_ENDPOINT",q),!0):!1},zEt=function(Q){return(Q=Q.player.getProgressState(Q.getPlayerType()).ingestionTime)&&isFinite(Q)?""+Math.floor(Q*1E3):null},LZt=function(Q){return(Q=Q.player.getCurrentTime(Q.getPlayerType()))&&isFinite(Q)?""+Math.floor(Q*1E3):null},XZ=function(Q,U){U=U===void 0?!1:U;
Q=Q.getVideoData();return Q.j("html5_use_server_init_heartbeat_delay")?isNaN(Q.bE)?15E3:Q.bE:U?1E3:2E3},iM$=function(Q){try{var U=JSON.parse(Q);
return U!=null?U:void 0}catch(q){}},sR3={ERAS:["BC",
"AD"],ERANAMES:["Before Christ","Anno Domini"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"January February March April May June July August September October November December".split(" "),STANDALONEMONTHS:"January February March April May June July August September October November December".split(" "),SHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONESHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
WEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),STANDALONEWEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),STANDALONESHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),NARROWWEEKDAYS:"SMTWTFS".split(""),STANDALONENARROWWEEKDAYS:"SMTWTFS".split(""),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["1st quarter","2nd quarter","3rd quarter","4th quarter"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, MMMM d, y",
"MMMM d, y","MMM d, y","M/d/yy"],TIMEFORMATS:["h:mm:ss\u202fa zzzz","h:mm:ss\u202fa z","h:mm:ss\u202fa","h:mm\u202fa"],DATETIMEFORMATS:["{1} 'at' {0}","{1} 'at' {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5},KZJ=sR3;KZJ=sR3;
var V13=["ATTESTATION_ERROR_UNKNOWN","ATTESTATION_ERROR_VM_NOT_INITIALIZED","ATTESTATION_ERROR_VM_NO_RESPONSE","ATTESTATION_ERROR_VM_TIMEOUT","ATTESTATION_ERROR_VM_INTERNAL_ERROR"],hEA={300:"STREAMING_DEVICES_QUOTA_PER_24H_EXCEEDED",301:"ALREADY_PINNED_ON_A_DEVICE",303:"STOPPED_BY_ANOTHER_PLAYBACK",304:"TOO_MANY_STREAMS_PER_USER",305:"TOO_MANY_STREAMS_PER_ENTITLEMENT",400:"VIDEO_NOT_FOUND",401:"GEO_FAILURE",402:"STREAMING_NOT_ALLOWED",403:"UNSUPPORTED_DEVICE",405:"VIDEO_FORBIDDEN",500:"PURCHASE_NOT_FOUND",
501:"RENTAL_EXPIRED",502:"PURCHASE_REFUNDED",5E3:"BAD_REQUEST",5001:"CGI_PARAMS_MISSING",5002:"CGI_PARAMS_MALFORMED",5100:"AUTHENTICATION_MISSING",5101:"AUTHENTICATION_MALFORMED",5102:"AUTHENTICATION_EXPIRED",5200:"CAST_TOKEN_MALFORMED",5201:"CAST_TOKEN_EXPIRED",5202:"CAST_TOKEN_FAILED",5203:"CAST_SESSION_VIDEO_MISMATCHED",5204:"CAST_SESSION_DEVICE_MISMATCHED",6E3:"INVALID_DRM_MESSAGE",7E3:"SERVER_ERROR",8E3:"RETRYABLE_ERROR"};g.w=kfJ.prototype;g.w.US=KZJ.FIRSTDAYOFWEEK;g.w.tX=KZJ.FIRSTWEEKCUTOFFDAY;
g.w.clone=function(){var Q=new kfJ(this.date);Q.US=this.US;Q.tX=this.tX;return Q};
g.w.getFullYear=function(){return this.date.getFullYear()};
g.w.getYear=function(){return this.getFullYear()};
g.w.getMonth=function(){return this.date.getMonth()};
g.w.getDate=function(){return this.date.getDate()};
g.w.getTime=function(){return this.date.getTime()};
g.w.getDay=function(){return this.date.getDay()};
g.w.getUTCFullYear=function(){return this.date.getUTCFullYear()};
g.w.getUTCMonth=function(){return this.date.getUTCMonth()};
g.w.getUTCDate=function(){return this.date.getUTCDate()};
g.w.getUTCDay=function(){return this.date.getDay()};
g.w.getUTCHours=function(){return this.date.getUTCHours()};
g.w.getUTCMinutes=function(){return this.date.getUTCMinutes()};
g.w.getTimezoneOffset=function(){return this.date.getTimezoneOffset()};
g.w.set=function(Q){this.date=new Date(Q.getFullYear(),Q.getMonth(),Q.getDate())};
g.w.setFullYear=function(Q){this.date.setFullYear(Q)};
g.w.setYear=function(Q){this.setFullYear(Q)};
g.w.setMonth=function(Q){this.date.setMonth(Q)};
g.w.setDate=function(Q){this.date.setDate(Q)};
g.w.setTime=function(Q){this.date.setTime(Q)};
g.w.setUTCFullYear=function(Q){this.date.setUTCFullYear(Q)};
g.w.setUTCMonth=function(Q){this.date.setUTCMonth(Q)};
g.w.setUTCDate=function(Q){this.date.setUTCDate(Q)};
g.w.add=function(Q){if(Q.years||Q.months){var U=this.getMonth()+Q.months+Q.years*12,q=this.getYear()+Math.floor(U/12);U%=12;U<0&&(U+=12);a:{switch(U){case 1:var H=q%4!=0||q%100==0&&q%400!=0?28:29;break a;case 5:case 8:case 10:case 3:H=30;break a}H=31}H=Math.min(H,this.getDate());this.setDate(1);this.setFullYear(q);this.setMonth(U);this.setDate(H)}Q.days&&(q=this.getYear(),U=q>=0&&q<=99?-1900:0,Q=new Date((new Date(q,this.getMonth(),this.getDate(),12)).getTime()+Q.days*864E5),this.setDate(1),this.setFullYear(Q.getFullYear()+
U),this.setMonth(Q.getMonth()),this.setDate(Q.getDate()),wn(this,Q.getDate()))};
g.w.equals=function(Q){return!(!Q||this.getYear()!=Q.getYear()||this.getMonth()!=Q.getMonth()||this.getDate()!=Q.getDate())};
g.w.toString=function(){var Q=this.getFullYear(),U=Q<0?"-":Q>=1E4?"+":"";return[U+rqH(Math.abs(Q),U?6:4),rqH(this.getMonth()+1,2),rqH(this.getDate(),2)].join("")+""};
g.w.valueOf=function(){return this.date.valueOf()};var WZQ=new g.e9("addUpcomingEventReminderEndpoint");var X1A=new g.e9("removeUpcomingEventReminderEndpoint");var yYN=new g.e9("updateUpcomingEventReminderButtonStateCommand");var cq$=new g.e9("upcomingEventReminderButtonRenderer"),jFQ=new g.e9("upcomingEventReminderButtonStateRenderer");g.h(sX,g.jn);
sX.prototype.updateMenuItems=function(){var Q=this,U=Ijz(this),q=0;q=0;for(var H={};q<U.length;H={eI:void 0},q++){var C=this.C[q];C||(C=new g.p({S:"div",D:"ytp-reminder-menu-item",N:{role:"menuitem",tabindex:"0"},W:[{S:"div",D:"ytp-reminder-menu-item-icon",MK:"{{icon}}"},{S:"div",D:"ytp-reminder-menu-item-label",MK:"{{text}}"}]}),H.eI=q,C.listen("click",function(f){return function(){var Y=f.eI;Q.QM();Y=Ijz(Q)[Y];Q.publish("reminderMenuItemClicked",Y.serviceEndpoint||Y.command)}}(H)),C.FZ(this.items),
this.C[q]=C);
var V=U[q];H=null;switch(V.icon&&V.icon.iconType){case "NOTIFICATIONS":H=AqN();break;case "NOTIFICATIONS_NONE":H=Eb8();break;case "NOTIFICATIONS_ACTIVE":H=g.X$()}V=V.text?g.B_(V.text):"";C.update({icon:H,text:V})}for(;q<this.C.length;)this.C.pop().dispose();q===0?this.QM():this.q$(this.Z)};
sX.prototype.hide=function(){this.Z&&this.Z.removeAttribute("aria-haspopup");g.jn.prototype.hide.call(this)};
sX.prototype.show=function(){this.Z&&this.Z.setAttribute("aria-haspopup","true");g.jn.prototype.show.call(this)};
sX.prototype.Cv=function(){g.Ps(this.C);g.jn.prototype.Cv.call(this)};g.h(Ks,g.p);
Ks.prototype.U=function(){if(this.toggleButtonRenderer){var Q=this.toggleButtonRenderer;Q.isToggled?this.T(Q.toggledServiceEndpoint):this.T(Q.defaultServiceEndpoint);Q.isToggled=!Q.isToggled;hG(this)}else if(this.upcomingEventReminderButtonRenderer)if(this.Z&&this.Z.Tm)this.Z.QM();else{var U=$q3(this);U&&this.T(U.serviceEndpoint||U.command);U=((Q=g.K(U==null?void 0:U.command,g.La))==null?void 0:Q.commands)||[];a:{Q=g.F(U);for(var q=Q.next();!q.done;q=Q.next()){var H=U=void 0;if(q=(U=g.K(q.value,g.cax))==
null?void 0:(H=U.popup)==null?void 0:H.menuPopupRenderer){Q=q;break a}}Q=void 0}this.Z||(this.Z=new sX(this.G,this.J),this.Z.FZ(this.element),g.I(this,this.Z),this.Z.subscribe("reminderMenuItemClicked",this.T,this));U=this.Z;U.menuPopupRenderer=Q;U.updateMenuItems()}};
Ks.prototype.T=function(Q){var U=g.K(Q,WZQ),q=g.K(Q,X1A);if(Q&&(U||q)){if(U){var H=U;var C="notification/add_upcoming_event_reminder"}else q&&(H=q,C="notification/remove_upcoming_event_reminder");if(C&&H&&H.params)for(xqz(this,C,H.params),Q=g.F(H.commands||[]),U=Q.next();!U.done;U=Q.next())if((U=U.value)&&g.K(U,yYN)){this.C=g.K(U,yYN).state;hG(this);break}}};g.h(lj7,g.p);g.w=lj7.prototype;g.w.getPlayerType=function(){if(this.api.getPresentingPlayerType()===8)return 1};
g.w.getVideoData=function(){return this.api.getVideoData(this.getPlayerType())};
g.w.OA=function(Q){var U,q,H=Q==null?void 0:(U=Q.liveStreamability)==null?void 0:(q=U.liveStreamabilityRenderer)==null?void 0:q.offlineSlate;if(H){this.C=Q;U=H.liveStreamOfflineSlateRenderer;U.canShowCountdown?this.Pn():ajQ(this,U);var C,V,f,Y;if(q=Q==null?void 0:(C=Q.liveStreamability)==null?void 0:(V=C.liveStreamabilityRenderer)==null?void 0:(f=V.offlineSlate)==null?void 0:(Y=f.liveStreamOfflineSlateRenderer)==null?void 0:Y.thumbnail){C=0;V=null;f=q.thumbnails;for(Y=0;Y<f.length;Y++)f[Y].width>
C&&(C=f[Y].width||0,V=f[Y].url);V&&(this.background.style.backgroundImage="url("+V+")")}else this.background.style.backgroundImage="";U.actionButtons||U.reminderButton?(this.Z||(this.Z=new Ks(this.api),this.Z.FZ(this.b2("ytp-offline-slate-buttons")),g.I(this,this.Z)),pfd(this.Z,U.actionButtons&&U.actionButtons[0],U.reminderButton)):this.Z&&pfd(this.Z,null,null);this.C=Q}else this.C=null;this.uO()};
g.w.uO=function(Q){if(this.api.getPresentingPlayerType()===8)var U=!0;else{var q=this.api.getPlayerStateObject(),H=this.getVideoData();U=H.isLivePlayback&&(q.isBuffering()||g.t(q,2)||g.t(q,64));var C=H.autonavState===2&&g.t(q,2);q=q.isPlaying()&&!g.E9(H)&&!this.api.isAtLiveHead(void 0,!0);U=U&&!q&&!C}U&&this.C?this.Tm?(Q==null?0:g.BZ(Q,2))&&!this.getVideoData().E$&&(g.YE(this.element,"ytp-offline-slate-collapsed"),this.X.stop(),g.YE(this.T,"ytp-offline-slate-bar-fade"),this.J.start()):(this.show(),
this.X.start(),this.api.publish("offlineslatestatechange"),this.U&&this.api.dk()):this.Tm&&(this.hide(),this.api.publish("offlineslatestatechange"))};
g.w.Pn=function(){var Q,U,q,H,C=(Q=this.C)==null?void 0:(U=Q.liveStreamability)==null?void 0:(q=U.liveStreamabilityRenderer)==null?void 0:(H=q.offlineSlate)==null?void 0:H.liveStreamOfflineSlateRenderer;C&&(Q=Math.floor(g.Az()/1E3),U=C.canShowCountdown&&Number(C.scheduledStartTime),!U||U<=Q?(ajQ(this,C),this.countdownTimer.stop()):(ajQ(this,C,g.WZ(U-Q)),g.Z6(this.countdownTimer)))};
g.w.Cv=function(){this.countdownTimer.dispose();this.countdownTimer=null;g.p.prototype.Cv.call(this)};W8.prototype.C=function(Q){return this.trigger&&Q.trigger?this.trigger===Q.trigger&&this.Z===Q.Z:!1};
W8.prototype.isExpired=function(){return(0,g.nQ)()-this.T>6E4};
W8.prototype.toString=function(){return"heartbeat:"+this.trigger+":"+this.Z};g.h(HMx,g.Yr);g.w=HMx.prototype;g.w.Cv=function(){D0(this);this.player.j_("heartbeat");g.Yr.prototype.Cv.call(this)};
g.w.onCueRangeEnter=function(){this.B=!0;yE(this,XZ(this))};
g.w.HA=function(Q){this.heartbeatParams=Q;yE(this,XZ(this))};
g.w.e$=function(Q){var U;this.player.getPresentingPlayerType()!==8&&((U=this.Z)==null?void 0:U.status)!=="UNPLAYABLE"&&(g.t(Q.state,2)||g.t(Q.state,64)?(D0(this),this.X&&(this.B=!0,yE(this,XZ(this,!0)))):(U=this.player.Y().experiments.EP().Z.h3(g.ff3),(g.t(Q.state,1)||g.t(Q.state,8)||U&&g.t(Q.state,4))&&yE(this,XZ(this))))};
g.w.sE=function(){this.player.getPresentingPlayerType()!==3&&yE(this,XZ(this))};
g.w.getPlayerType=function(){if(this.player.getPresentingPlayerType()===8)return 1};
g.w.getVideoData=function(){return this.player.getVideoData(this.getPlayerType())};
g.w.h7=function(Q){switch(Q){case 4:case 3:return!1}return!0};
g.w.iE=function(Q,U,q){Q={trigger:Q,reason:U};q&&(Q.serializedServerContext=q.additionalLoggingData);g.LD("heartbeatActionPlayerTransitioned",Q)};
g.w.J1=function(Q){var U="LICENSE",q=iM$(Q);if(q)return q.reason||g.GD[U]||"";if(Q=Q.match(TTd))if(Q=Number(Q[1]))U=(U=hEA[Q.toString()])?U:"LICENSE";return g.GD[U]||""};
g.w.qO=function(){return!!this.offlineSlate&&this.offlineSlate.Tm};
var TTd=/^GLS\/1.0 (\d+) (\w+).*?\r\n\r\n([\S\s]*)$/;g.TD("heartbeat",HMx);})(_yt_player);
